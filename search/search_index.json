{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Index","text":""},{"location":"#powershell-module-for-vmware-cloud-foundation-certificate-management","title":"PowerShell Module for VMware Cloud Foundation Certificate Management","text":"<p><code>VMware.CloudFoundation.CertificateManagement</code> is a PowerShell module that has been written to support the ability to manage ESXi host certificates across your VMware Cloud Foundati\u043en instance.</p> <p> \u00a0 PowerShell Gallery</p>"},{"location":"#requirements","title":"Requirements","text":""},{"location":"#platforms","title":"Platforms","text":"<p>The following table lists the supported platforms for this module.</p> Platform Support  \u00a0 VMware Cloud Foundation 5.0  \u00a0 VMware Cloud Foundation 4.5  \u00a0 VMware Cloud Foundation 4.4  \u00a0 VMware Cloud Foundation 4.3"},{"location":"#operating-systems","title":"Operating Systems","text":"<p>The following table lists the supported operating systems for this module.</p> Operating System Version  \u00a0 Microsoft Windows Server 2019, 2022  \u00a0 Microsoft Windows 10, 11"},{"location":"#powershell","title":"PowerShell","text":"<p>The following table lists the supported editions and versions of PowerShell for this module.</p> Edition Version Microsoft Windows PowerShell 5.1"},{"location":"#module-dependencies","title":"Module Dependencies","text":"<p>The following table lists the required PowerShell module dependencies for this module.</p> PowerShell Module Version Publisher Reference VMware.PowerCLI &gt;= 13.0.0 VMware, Inc. Documentation PowerVCF &gt;= 2.3.0 VMware, Inc. GitHub PowerValidatedSolutions &gt;= 2.2.0 VMware, Inc. GitHub"},{"location":"install/","title":"Installing the Module","text":"<p>Verify that your system has a supported edition and version of PowerShell installed.</p> <p>Install the PowerShell module dependencies from the PowerShell Gallery by running the following commands:</p> <pre><code>Set-PSRepository -Name PSGallery -InstallationPolicy Trusted\nInstall-Module -Name VMware.PowerCLI -MinimumVersion 13.0.0\nInstall-Module -Name PowerVCF -MinimumVersion 2.3.0\nInstall-Module -Name PowerValidatedSolutions -MinimumVersion 2.3.0\nInstall-Module -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>If using PowerShell Core, import the modules before proceeding:</p> <p>For example:</p> <pre><code>Import-Module -Name VMware.PowerCLI\nImport-Module -Name PowerVCF\nImport-Module -Name PowerValidatedSolutions\nImport-Module -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>Once installed, any cmdlets associated with <code>VMware.CloudFoundation.CertificateManagement</code> and the its dependencies will be available for use.</p> <p>To view the cmdlets for available in the module, run the following command in the PowerShell console.</p> <pre><code>Get-Command -Module VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>To view the help for any cmdlet, run the <code>Get-Help</code> command in the PowerShell console.</p> <p>For example:</p> <pre><code>Get-Help -Name &lt;cmdlet-name&gt;\n</code></pre> <pre><code>Get-Help -Name &lt;cmdlet-name&gt; -Examples\n</code></pre>"},{"location":"license/","title":"License","text":"<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright       notice, this list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above       copyright notice, this list of conditions and the following       disclaimer in the documentation and/or other materials provided       with the distribution.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"release-notes/","title":"CHANGELOG","text":""},{"location":"release-notes/#v100","title":"v1.0.0","text":"<p>Release Date: 2023-05-30</p> <p>Initial availability of the PowerShell module for VMware Cloud Foundation Certificate Management.</p>"},{"location":"update/","title":"Updating the Module","text":"<p>Update the PowerShell module from the PowerShell Gallery by running the following commands:</p> <pre><code>Update-Module -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>To verify that the PowerShell module is updated, run the following command in the PowerShell console.</p> <pre><code>Get-InstalledModule -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>If a dependency does not meet the minimum requirements, run the appropriate <code>Update-Module</code> command for the dependency in the PowerShell console.</p> <pre><code>Update-Module -Name VMware.PowerCLI\nUpdate-Module -Name PowerVCF\nUpdate-Module -Name PowerValidatedSolutions\n</code></pre>"},{"location":"user-access/","title":"User Access","text":"<p>Each cmdlet may provide one or more usage examples. Many of the cmdlets require that credentials are provided to output to the PowerShell console or a report.</p> <p>The cmdlets in this module, and its dependencies, return data from multple platform components. The credentials for most of the platform components are returned to the cmdlets by retrieving credentials from the SDDC Manager inventory and using these credentials, as needed, within cmdlet operations.</p> <p>For the best expereince, for cmdlets that connect to SDDC Manager, use the VMware Cloud Foundation API user <code>admin@local</code> or an account with the ADMIN role in SDDC Manager (e.g., <code>administrator@vsphere.local</code>).</p>"},{"location":"community/code-of-conduct/","title":"Contributor Covenant Code of Conduct","text":""},{"location":"community/code-of-conduct/#our-pledge","title":"Our Pledge","text":"<p>We as members, contributors, and leaders pledge to make participation in powershell-module-for-vmware-cloud-foundation-certificate-management project and our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.</p> <p>We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.</p>"},{"location":"community/code-of-conduct/#our-standards","title":"Our Standards","text":"<p>Examples of behavior that contributes to a positive environment for our community include:</p> <ul> <li>Demonstrating empathy and kindness toward other people</li> <li>Being respectful of differing opinions, viewpoints, and experiences</li> <li>Giving and gracefully accepting constructive feedback</li> <li>Accepting responsibility and apologizing to those affected by our mistakes,   and learning from the experience</li> <li>Focusing on what is best not just for us as individuals, but for the   overall community</li> </ul> <p>Examples of unacceptable behavior include:</p> <ul> <li>The use of sexualized language or imagery, and sexual attention or   advances of any kind</li> <li>Trolling, insulting or derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information, such as a physical or email   address, without their explicit permission</li> <li>Other conduct which could reasonably be considered inappropriate in a   professional setting</li> </ul>"},{"location":"community/code-of-conduct/#enforcement-responsibilities","title":"Enforcement Responsibilities","text":"<p>Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.</p> <p>Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.</p>"},{"location":"community/code-of-conduct/#scope","title":"Scope","text":"<p>This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event.</p>"},{"location":"community/code-of-conduct/#enforcement","title":"Enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at oss-coc@vmware.com. All complaints will be reviewed and investigated promptly and fairly.</p> <p>All community leaders are obligated to respect the privacy and security of the reporter of any incident.</p>"},{"location":"community/code-of-conduct/#enforcement-guidelines","title":"Enforcement Guidelines","text":"<p>Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:</p>"},{"location":"community/code-of-conduct/#1-correction","title":"1. Correction","text":"<p>Community Impact: Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community.</p> <p>Consequence: A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.</p>"},{"location":"community/code-of-conduct/#2-warning","title":"2. Warning","text":"<p>Community Impact: A violation through a single incident or series of actions.</p> <p>Consequence: A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.</p>"},{"location":"community/code-of-conduct/#3-temporary-ban","title":"3. Temporary Ban","text":"<p>Community Impact: A serious violation of community standards, including sustained inappropriate behavior.</p> <p>Consequence: A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.</p>"},{"location":"community/code-of-conduct/#4-permanent-ban","title":"4. Permanent Ban","text":"<p>Community Impact: Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior,  harassment of an individual, or aggression toward or disparagement of classes of individuals.</p> <p>Consequence: A permanent ban from any sort of public interaction within the community.</p>"},{"location":"community/code-of-conduct/#attribution","title":"Attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version 2.0, available at https://www.contributor-covenant.org/version/2/0/code_of_conduct.html.</p> <p>Community Impact Guidelines were inspired by Mozilla's code of conduct enforcement ladder.</p> <p>For answers to common questions about this code of conduct, see the FAQ at https://www.contributor-covenant.org/faq. Translations are available at https://www.contributor-covenant.org/translations.</p>"},{"location":"community/contributing/","title":"Contributing","text":"<p>The project team welcomes contributions from the community. Please read our Developer Certificate of Origin.</p> <p>All contributions to this repository must be signed as described on that page. Your signature certifies that you wrote the patch or have the right to pass it on as an open-source patch.</p>"},{"location":"community/contributing/#contribution-flow","title":"Contribution Flow","text":"<p>This is a rough outline of what a contributor's workflow looks like:</p> <ul> <li>Create a topic branch from where you want to base your work</li> <li>Make commits of logical units</li> <li>Make sure your commit messages are in the proper format (see below)</li> <li>Push your changes to a topic branch in your fork of the repository</li> <li>Submit a pull request</li> </ul> <p>Example:</p> <pre><code>git remote add upstream https://github.com/vmware/powershell-module-for-vmware-cloud-foundation-certificate-management.git\ngit checkout -b my-new-feature main\ngit commit -a\ngit push origin my-new-feature\n</code></pre>"},{"location":"community/contributing/#staying-in-sync-with-upstream","title":"Staying In Sync With Upstream","text":"<p>When your branch gets out of sync with the <code>vmware/main</code> branch, use the following to update:</p> <pre><code>git checkout my-new-feature\ngit fetch -a\ngit pull --rebase upstream main\ngit push --force-with-lease origin my-new-feature\n</code></pre>"},{"location":"community/contributing/#updating-pull-requests","title":"Updating Pull Requests","text":"<p>If your PR fails to pass CI or needs changes based on code review, you'll most likely want to squash these changes into existing commits.</p> <p>If your pull request contains a single commit or your changes are related to the most recent commit, you can simply amend the commit.</p> <pre><code>git add .\ngit commit --amend\ngit push --force-with-lease origin my-new-feature\n</code></pre> <p>If you need to squash changes into an earlier commit, you can use:</p> <pre><code>git add .\ngit commit --fixup &lt;commit&gt;\ngit rebase -i --autosquash main\ngit push --force-with-lease origin my-new-feature\n</code></pre> <p>Be sure to add a comment to the PR indicating your new changes are ready to review, as GitHub does not generate a notification when you git push.</p>"},{"location":"community/contributing/#code-style","title":"Code Style","text":""},{"location":"community/contributing/#formatting-commit-messages","title":"Formatting Commit Messages","text":"<p>We follow the conventions on How to Write a Git Commit Message.</p> <p>Be sure to include any related GitHub issue references in the commit message.  See GFM syntax for referencing issues and commits.</p>"},{"location":"community/contributing/#reporting-bugs-and-creating-issues","title":"Reporting Bugs and Creating Issues","text":"<p>When opening a new issue, try to roughly follow the commit message format conventions above.</p>"},{"location":"community/support/","title":"Support","text":"<p>This PowerShell module is not supported by VMware Support Services.</p> <p>We welcome you to use the GitHub issues tracker to report bugs or suggest features and enhancements.</p> <p>When filing an issue, please check existing open, or recently closed, issues to make sure someone else hasn't already reported the issue.</p> <p>Please try to include as much information as you can. Details like these are incredibly useful:</p> <ul> <li>A reproducible test case or series of steps.</li> <li>Any modifications you've made relevant to the bug.</li> <li>Anything unusual about your environment or deployment.</li> </ul> <p>You can also start a discussion on the discussions area to ask questions or share ideas.</p>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/","title":"Confirm-CAInvCenterServer","text":""},{"location":"documentation/functions/Confirm-CAInvCenterServer/#synopsis","title":"SYNOPSIS","text":"<p>Verify the root certificate thumbprint matches with one of the CA thumbprints from vCenter Server instance.</p>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#syntax","title":"SYNTAX","text":"<pre><code>Confirm-CAInvCenterServer [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt;\n [-signedCertificate] &lt;String&gt; [[-issuer] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#description","title":"DESCRIPTION","text":"<p>The Confirm-CAInvCenterServer cmdlet gets the thumbprint from the root certificate and matches it with the CA thumbprint from the vCenter Server instance. You need to pass in the complete path for the certificate file. Returns true if thumbprint matches, else returns false.</p>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Confirm-CAInvCenterServer/#example-1","title":"EXAMPLE 1","text":"<pre><code>Confirm-CAInvCenterServer -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -issuer rainpole -signedCertificate F:\\certificates\\Root64.cer\n</code></pre> <p>This example matches the thumbprint of provided root certificate file with the thumbprints on the vCenter Server instance matching the issuer \"rainpole\".</p>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-domain","title":"-domain","text":"<p>The name of the workload domain to retrieve the vCenter Server instance's certificate thumbprints from.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-signedcertificate","title":"-signedCertificate","text":"<p>The complete path for the root certificate file.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-issuer","title":"-issuer","text":"<p>The name of the issuer to match with the thumbprint.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/","title":"Confirm-ESXiCertificateInstalled","text":""},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#synopsis","title":"SYNOPSIS","text":"<p>Verify if the provided certificate is already on the ESXi host.</p>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#syntax","title":"SYNTAX","text":"<pre><code>Confirm-ESXiCertificateInstalled [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-esxiFqdn] &lt;String&gt;\n [-signedCertificate] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#description","title":"DESCRIPTION","text":"<p>The Confirm-ESXiCertificateInstalled cmdlet will get the thumbprint from the provided signed certificate and matches it with the certificate thumbprint from ESXi host. You need to pass in the complete path for the certificate file. Returns true if certificate is already installed, else returns false.</p>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#example-1","title":"EXAMPLE 1","text":"<pre><code>Confirm-ESXiCertificateInstalled -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -esxiFqdn sfo01-w01-esx01.sfo.rainpole.io -signedCertificate F:\\certificates\\sfo01-w01-esx01.sfo.rainpole.io.cer\n</code></pre> <p>This example checks the thumbprint of the provided signed certificate with the thumbprint on ESXi host.</p>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#-esxifqdn","title":"-esxiFqdn","text":"<p>The FQDN of the ESXi host to verify the certificate thumbprint against.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#-signedcertificate","title":"-signedCertificate","text":"<p>The complete path for the signed certificate file.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-ESXiCertificateInstalled/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-ESXiLockdownMode/","title":"Get-ESXiLockdownMode","text":""},{"location":"documentation/functions/Get-ESXiLockdownMode/#synopsis","title":"SYNOPSIS","text":"<p>Get the ESXi host lockdown mode state from vCenter Server.</p>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#syntax","title":"SYNTAX","text":"<pre><code>Get-ESXiLockdownMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt;\n [-cluster] &lt;String&gt; [[-esxiFqdn] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#description","title":"DESCRIPTION","text":"<p>The Get-ESXiLockdownMode cmdlet gets the lockdown mode value for all ESXI hosts in a given cluster or for a given ESXi host within the cluster. If esxiFqdn is provided, only the value for that host is returned.</p>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Get-ESXiLockdownMode/#example-1","title":"EXAMPLE 1","text":"<pre><code>Get-ESXiLockdownMode -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -cluster sfo-m01-cl01\n</code></pre> <p>This example retrieves the lockdown mode for each ESXi host in a cluster.</p>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#example-2","title":"EXAMPLE 2","text":"<pre><code>Get-ESXiLockdownMode -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -cluster sfo-m01-cl01 -esxiFqdn sfo01-m01-esx01.sfo.rainpole.io\n</code></pre> <p>This example retrieves the lockdown mode state for an ESXi host in a given cluster.</p>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Get-ESXiLockdownMode/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESXi host is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#-esxifqdn","title":"-esxiFqdn","text":"<p>The FQDN of the ESXi host to retrieve the lockdown mode state for.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-ESXiLockdownMode/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-EsxiCertificateMode/","title":"Get-EsxiCertificateMode","text":""},{"location":"documentation/functions/Get-EsxiCertificateMode/#synopsis","title":"SYNOPSIS","text":"<p>Retrieves the certificate management mode value from the vCenter Server instance for a workload domain.</p>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#syntax","title":"SYNTAX","text":"<pre><code>Get-EsxiCertificateMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt;\n [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#description","title":"DESCRIPTION","text":"<p>The Get-EsxiCertificateMode cmdlet retrieves the certificate management mode value from vCenter Server instance for a workload domain.</p>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Get-EsxiCertificateMode/#example-1","title":"EXAMPLE 1","text":"<pre><code>Get-EsxiCertificateMode -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01\n</code></pre> <p>This example retrieves the certificate management mode value for the vCenter Server instance for the workload domain sfo-m01.</p>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Get-EsxiCertificateMode/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#-domain","title":"-domain","text":"<p>The name of the workload domain to retrieve the certificate management mode value for.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/","title":"Get-EsxiCertificateThumbprint","text":""},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#synopsis","title":"SYNOPSIS","text":"<p>Retrieves an ESXi host's certificate thumbprint.</p>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#syntax","title":"SYNTAX","text":"<pre><code>Get-EsxiCertificateThumbprint [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-esxiFqdn] &lt;String&gt;\n [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#description","title":"DESCRIPTION","text":"<p>The Get-EsxiCertificateThumbprint cmdlet retrieves an ESXi host's certificate thumbprint.</p>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#example-1","title":"EXAMPLE 1","text":"<pre><code>Get-EsxiCertificateThumbprint -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -esxiFqdn sfo01-m01-esx01.sfo.rainpole.io\n</code></pre> <p>This example retrieves the ESXI host's certificate thumbprint for an ESXi host with the FQDN of sfo01-m01-esx01.sfo.rainpole.io.</p>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#-esxifqdn","title":"-esxiFqdn","text":"<p>The FQDN of the ESXi host to retrieve the certificate thumbprint.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateThumbprint/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/","title":"Get-vCenterCertificateThumbprint","text":""},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#synopsis","title":"SYNOPSIS","text":"<p>Retrieves either all of the vCenter Server instance's certificate thumbprints or those which match the provided issuer name.</p>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#syntax","title":"SYNTAX","text":"<pre><code>Get-vCenterCertificateThumbprint [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt;\n [[-issuer] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#description","title":"DESCRIPTION","text":"<p>The Get-vCenterCertificateThumbprint cmdlet retrieves the vCenter Server instance's certificate thumbprints. By default, it retrieves all thumbprints. If issuer is provided, then only the thumbprint of the matching certificate is returned.</p>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#example-1","title":"EXAMPLE 1","text":"<pre><code>Get-vCenterCertificateThumbprint -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01\n</code></pre> <p>This example retrieves the certificate thumbprints for the vCenter Server instance belonging to the domain sfo-m01.</p>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#example-2","title":"EXAMPLE 2","text":"<pre><code>Get-vCenterCertificateThumbprint -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -issuer rainpole\n</code></pre> <p>This example retrieves the vCenter Server instance's certificate thumbprints for the vCenter Server instance belonging to domain sfo-m01 and a matching issuer \"rainpole\".</p>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#-domain","title":"-domain","text":"<p>The name of the workload domain to retrieve the vCenter Server instance's certificate thumbprints from.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#-issuer","title":"-issuer","text":"<p>The name of the issuer to match with the vCenter Server instance's certificate thumbprints.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vCenterCertificateThumbprint/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-vSANHealthSummary/","title":"Get-vSANHealthSummary","text":""},{"location":"documentation/functions/Get-vSANHealthSummary/#synopsis","title":"SYNOPSIS","text":"<p>Get the vSAN health summary from vCenter Server for a cluster.</p>"},{"location":"documentation/functions/Get-vSANHealthSummary/#syntax","title":"SYNTAX","text":"<pre><code>Get-vSANHealthSummary [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt;\n [-cluster] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#description","title":"DESCRIPTION","text":"<p>The Get-vSANHealthSummary cmdlet gets the vSAN health summary from vCenter Server for a cluster. If any status is YELLOW or RED, a WARNING or ERROR will be raised.</p>"},{"location":"documentation/functions/Get-vSANHealthSummary/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Get-vSANHealthSummary/#example-1","title":"EXAMPLE 1","text":"<pre><code>Get-vSANHealthSummary -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -cluster sfo-m01-cl01\n</code></pre> <p>This example gets the vSAN health summary for cluster sfo-m01-cl01.</p>"},{"location":"documentation/functions/Get-vSANHealthSummary/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Get-vSANHealthSummary/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#-cluster","title":"-cluster","text":"<p>The name of the cluster to retrieve the vSAN health summary for.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Install-EsxiCertificate/","title":"Install-EsxiCertificate","text":""},{"location":"documentation/functions/Install-EsxiCertificate/#synopsis","title":"SYNOPSIS","text":"<p>Install a certificate for an ESXi host or for each ESXi host in a cluster.</p>"},{"location":"documentation/functions/Install-EsxiCertificate/#syntax","title":"SYNTAX","text":""},{"location":"documentation/functions/Install-EsxiCertificate/#cluster","title":"cluster","text":"<pre><code>Install-EsxiCertificate [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt;\n [-certificateDirectory] &lt;String&gt; [-certificateFileExt] &lt;String&gt; [[-timeout] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#host","title":"host","text":"<pre><code>Install-EsxiCertificate [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-esxiFqdn] &lt;String&gt;\n [-certificateDirectory] &lt;String&gt; [-certificateFileExt] &lt;String&gt; [[-timeout] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#description","title":"DESCRIPTION","text":"<p>The Install-EsxiCertificate cmdlet will replace the certificate for an ESXi host or for each ESXi host in a cluster. You must provide the directory containing the signed certificate files. Certificate names should be in format \\&lt;FQDN&gt;.crt e.g. sfo01-m01-esx01.sfo.rainpole.io.crt. The workflow will put the ESXi host in maintenance mode with full data migration, disconnect the ESXi host from the vCenter Server, replace the certificate, restart the ESXi host, and the exit maintenance mode once the ESXi host is online.</p>"},{"location":"documentation/functions/Install-EsxiCertificate/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Install-EsxiCertificate/#example-1","title":"EXAMPLE 1","text":"<pre><code>Install-EsxiCertificate -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -esxiFqdn sfo01-m01-esx01.sfo.rainpole.io -certificateDirectory F:\\certificates -certificateFileExt \".cer\"\n</code></pre> <p>This example will install the certificate to the ESXi host sfo01-m01-esx01.sfo.rainpole.io in domain sfo-m01 from the provided path.</p>"},{"location":"documentation/functions/Install-EsxiCertificate/#example-2","title":"EXAMPLE 2","text":"<pre><code>Install-EsxiCertificate -server sfo-vcf01.sfo.rainpole.io -user &lt;administrator@vsphere.local&gt; -pass VMw@re1!\n-domain sfo-m01 -cluster sfo-m01-cl01 -certificateDirectory F:\\certificates -certificateFileExt \".cer\"\n</code></pre> <p>This example will install certificates for each ESXi host in cluster sfo-m01-cl01 in workload domain sfo-m01 from the provided path.</p>"},{"location":"documentation/functions/Install-EsxiCertificate/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Install-EsxiCertificate/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the ESXi host is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESXi host is located.</p> <pre><code>Type: String\nParameter Sets: cluster\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#-esxifqdn","title":"-esxiFqdn","text":"<p>The FQDN of the ESXi host.</p> <pre><code>Type: String\nParameter Sets: host\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#-certificatedirectory","title":"-certificateDirectory","text":"<p>The directory containing the signed certificate files.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#-certificatefileext","title":"-certificateFileExt","text":"<p>The file extension of the certificate files. One of \".crt\", \".cer\", \".pem\", \".p7b\", or \".p7c\".</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#-timeout","title":"-timeout","text":"<p>The timeout in seconds for putting the ESXi host in maintenance mode. Default is 18000 seconds (5 hours).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: 18000\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-EsxiCertificate/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Request-EsxiCsr/","title":"Request-EsxiCsr","text":""},{"location":"documentation/functions/Request-EsxiCsr/#synopsis","title":"SYNOPSIS","text":"<p>Requests a Certificate Signing Request (CSR) for an ESXi host or a for each ESXi host in a cluster and saves it to file(s) in a directory.</p>"},{"location":"documentation/functions/Request-EsxiCsr/#syntax","title":"SYNTAX","text":""},{"location":"documentation/functions/Request-EsxiCsr/#cluster","title":"cluster","text":"<pre><code>Request-EsxiCsr [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt;\n [-outputDirectory] &lt;String&gt; [-country] &lt;String&gt; [-locality] &lt;String&gt; [-organization] &lt;String&gt;\n [-organizationUnit] &lt;String&gt; [-stateOrProvince] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#host","title":"host","text":"<pre><code>Request-EsxiCsr [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] [-esxiFqdn] &lt;String&gt;\n [-outputDirectory] &lt;String&gt; [-country] &lt;String&gt; [-locality] &lt;String&gt; [-organization] &lt;String&gt;\n [-organizationUnit] &lt;String&gt; [-stateOrProvince] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#description","title":"DESCRIPTION","text":"<p>The Request-EsxiCsr cmdlet will generate the Certificate Signing Request for ESXi host(s) and saves it to file(s) in an output directory. The cmdlet connects to the SDDC Manager using the -server, -user, and -password values.</p> <ul> <li>Validates that network connectivity and authentication is possible to SDDC Manager.</li> <li>Validates that the workload domain exists in the SDDC Manager inventory.</li> <li>Validates that network connectivity and authentication is possible to vCenter Server.</li> <li>Gathers the ESXi hosts from the cluster.</li> <li>Requests the ESXi host CSR and saves it in the output directory as \\&lt;esxi-host-fqdn&gt;.csr. e.g. sfo01-m01-esx01.sfo.rainpole.io.csr</li> <li>Defines possible country codes. Reference: https://www.digicert.com/kb/ssl-certificate-country-codes.htm</li> </ul>"},{"location":"documentation/functions/Request-EsxiCsr/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Request-EsxiCsr/#example-1","title":"EXAMPLE 1","text":"<pre><code>Request-EsxiCsr -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -cluster sfo-m01-cl01 -country US -locality \"Palo Alto\" -organization \"VMware, Inc.\" -organizationUnit \"Engineering\" -stateOrProvince \"California\" -outputDirectory F:\\csr\n</code></pre> <p>This example generates CSRs and stores them in the provided output directory for all ESXi hosts in the cluster sfo-m01-cl01 with the specified fields.</p>"},{"location":"documentation/functions/Request-EsxiCsr/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Request-EsxiCsr/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESXi host is located.</p> <pre><code>Type: String\nParameter Sets: cluster\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-esxifqdn","title":"-esxiFqdn","text":"<p>The FQDN of the ESXi host to request Certificate Signing Request (CSR) for.</p> <pre><code>Type: String\nParameter Sets: host\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-outputdirectory","title":"-outputDirectory","text":"<p>The directory to save the Certificate Signing Request (CSR) files.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-country","title":"-country","text":"<p>The country code for the Certificate Signing Request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-locality","title":"-locality","text":"<p>The locality for the Certificate Signing Request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-organization","title":"-organization","text":"<p>The organization for the Certificate Signing Request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-organizationunit","title":"-organizationUnit","text":"<p>The organization unit for the Certificate Signing Request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#-stateorprovince","title":"-stateOrProvince","text":"<p>The state or province for the Certificate Signing Request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-EsxiCsr/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Restart-ESXiHost/","title":"Restart-ESXiHost","text":""},{"location":"documentation/functions/Restart-ESXiHost/#synopsis","title":"SYNOPSIS","text":"<p>Restart an ESXi host and poll for connection availability.</p>"},{"location":"documentation/functions/Restart-ESXiHost/#syntax","title":"SYNTAX","text":"<pre><code>Restart-ESXiHost [-esxiFqdn] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [[-poll] &lt;Boolean&gt;]\n [[-timeout] &lt;String&gt;] [[-pollInterval] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Restart-ESXiHost/#description","title":"DESCRIPTION","text":"<p>The Restart-ESXiHost cmdlet restarts an ESXi host and polls for connection availability. Timeout value is in seconds.</p>"},{"location":"documentation/functions/Restart-ESXiHost/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Restart-ESXiHost/#example-1","title":"EXAMPLE 1","text":"<pre><code>Restart-EsxiHost -esxiFqdn sfo01-m01-esx01.sfo.rainpole.io -user root -pass VMw@re1! -poll $true -timeout 1800 -pollInterval 30\n</code></pre> <p>This example restarts an ESXi host and polls the connection availability every 30 seconds. It will timeout after 1800 seconds.</p>"},{"location":"documentation/functions/Restart-ESXiHost/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Restart-ESXiHost/#-esxifqdn","title":"-esxiFqdn","text":"<p>The FQDN of the ESXi host.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-ESXiHost/#-user","title":"-user","text":"<p>The username to authenticate to the ESXi host.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-ESXiHost/#-pass","title":"-pass","text":"<p>The password to authenticate to the ESXi host.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-ESXiHost/#-poll","title":"-poll","text":"<p>Poll for connection availability after restarting the ESXi host. Default is true.</p> <pre><code>Type: Boolean\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 4\nDefault value: True\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-ESXiHost/#-timeout","title":"-timeout","text":"<p>The timeout value in seconds. Default is 1800 seconds.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 5\nDefault value: 1800\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-ESXiHost/#-pollinterval","title":"-pollInterval","text":"<p>The poll interval in seconds. Default is 30 seconds.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: 30\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-ESXiHost/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Set-ESXiLockdownMode/","title":"Set-ESXiLockdownMode","text":""},{"location":"documentation/functions/Set-ESXiLockdownMode/#synopsis","title":"SYNOPSIS","text":"<p>Set the lockdown mode for all ESXi hosts in a given cluster.</p>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#syntax","title":"SYNTAX","text":""},{"location":"documentation/functions/Set-ESXiLockdownMode/#enable","title":"enable","text":"<pre><code>Set-ESXiLockdownMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt;\n [-enable] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#disable","title":"disable","text":"<pre><code>Set-ESXiLockdownMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt;\n [-disable] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#description","title":"DESCRIPTION","text":"<p>The Set-ESXiLockdownMode cmdlet sets the lockdown mode for all ESXi hosts in a given cluster.</p>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Set-ESXiLockdownMode/#example-1","title":"EXAMPLE 1","text":"<pre><code>Set-ESXiLockdownMode -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -cluster sfo-m01-cl01 -enable\n</code></pre> <p>This example will enable the lockdown mode for all ESXi hosts in a cluster.</p>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#example-2","title":"EXAMPLE 2","text":"<pre><code>Set-ESXiLockdownMode -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -cluster sfo-m01-cl01 -disable\n</code></pre> <p>This example will disable the lockdown mode for all ESXi hosts in a cluster.</p>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Set-ESXiLockdownMode/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESXi host is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#-enable","title":"-enable","text":"<p>Enable lockdown mode for the ESXi host(s).</p> <pre><code>Type: SwitchParameter\nParameter Sets: enable\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#-disable","title":"-disable","text":"<p>Disable lockdown mode for the ESXi host(s).</p> <pre><code>Type: SwitchParameter\nParameter Sets: disable\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-ESXiLockdownMode/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Set-EsxiCertificateMode/","title":"Set-EsxiCertificateMode","text":""},{"location":"documentation/functions/Set-EsxiCertificateMode/#synopsis","title":"SYNOPSIS","text":"<p>Sets the certificate management mode in vCenter Server for the ESXi hosts in a workload domain.</p>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#syntax","title":"SYNTAX","text":"<pre><code>Set-EsxiCertificateMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt;\n [-mode] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#description","title":"DESCRIPTION","text":"<p>The Set-EsxiCertificateMode cmdlet sets the certificate management mode in vCenter Server for the ESXi hosts in a workload domain.</p>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#examples","title":"EXAMPLES","text":""},{"location":"documentation/functions/Set-EsxiCertificateMode/#example-1","title":"EXAMPLE 1","text":"<pre><code>Set-EsxiCertificateMode -server sfo-vcf01.sfo.rainpole.io -user administrator@vsphere.local -pass VMw@re1! -domain sfo-m01 -mode custom\n</code></pre> <p>This example sets the certificate management mode to custom in vCenter Server for the ESXi hosts in workload domain sfo-m01.</p>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#parameters","title":"PARAMETERS","text":""},{"location":"documentation/functions/Set-EsxiCertificateMode/#-server","title":"-server","text":"<p>The FQDN of the SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#-user","title":"-user","text":"<p>The username to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#-pass","title":"-pass","text":"<p>The password to authenticate to SDDC Manager.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#-domain","title":"-domain","text":"<p>The name of the workload domain to set the vCenter Server instance certificate management mode setting for.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#-mode","title":"-mode","text":"<p>The certificate management mode to set in vCenter Server. One of \"custom\" or \"vmca\".</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"documentation/user-guide/esxi-certificate-management/","title":"ESXi Certificate Management","text":"<p>This section provides information on how to use the PowerShell module for VMware Cloud Foundation Certificate Management to manage ESXi host certificates across your VMware Cloud Foundation instance.</p>"},{"location":"documentation/user-guide/esxi-certificate-management/#set-the-esxi-certificate-mode-in-vcenter-server","title":"Set the ESXi Certificate Mode in vCenter Server","text":"<p>The <code>Set-EsxiCertificateMode</code> cmdlet sets the certificate management mode in vCenter Server for the ESXi hosts in a workload domain.</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n</code></pre> </li> <li> <p>Set the ESXi certificate management mode in vCenter Server by running the command in the PowerShell console.</p> <pre><code>Set-EsxiCertificateMode -server $sddcManagerFqdn -user $sddcManagerUser -password $sddcManagerPass -domain $workloadDomain -mode $mode\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#request-a-certificate-signing-request","title":"Request a Certificate Signing Request","text":"<p>The <code>Request-EsxiCsr</code> cmdlet will generate the Certificate Signing Request for ESXi host(s) and saves it to file(s) in an output directory. </p>"},{"location":"documentation/user-guide/esxi-certificate-management/#request-certificate-signing-request-for-each-esxi-host-in-a-cluster","title":"Request Certificate Signing Request for each ESXi Host in a Cluster","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n$cluster = \"sfo-m01-cl01\"\n$country = \"US\"\n$locality = \"San Francisco\"\n$organization = \"Rainpole\"\n$organizationUnit = \"Platform Engineering\"\n$stateOrProvince = \"CA\"\n$outputDirectory = \"F:\\CSR\\\"\n</code></pre> </li> <li> <p>Request Certificate Signing Request files by running the command in the PowerShell console.</p> <pre><code>Request-EsxiCsr -server $sddcManagerFqdn -user $sddcManagerUser -password $sddcManagerPass -domain $workloadDomain -cluster $cluster -Country $country -Locality $location -Organization $organization -OrganizationUnit $organizationUnit -StateOrProvince $stateOrProvince -outputFolder $outputDirectory\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#request-a-certificate-signing-request-for-an-esxi-host","title":"Request a Certificate Signing Request for an ESXi Host","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n$esxiFqdn = 'sfo01-m01-esx01.sfo.rainpole.io'\n$country = \"US\"\n$locality = \"San Francisco\"\n$organization = \"Rainpole\"\n$organizationUnit = \"Platform Engineering\"\n$stateOrProvince = \"CA\"\n$outputDirectory = \"F:\\CSR\\\"\n</code></pre> </li> <li> <p>Request a Certificate Signing Request file by running the command in the PowerShell console.</p> <pre><code>Request-EsxiCsr -server $sddcManagerFqdn -user $sddcManagerUser -password $sddcManagerPass -domain $workloadDomain -esxiFqdn $esxiFqdn -Country $country -Locality $location -Organization $organization -OrganizationUnit $organizationUnit -StateOrProvince $stateOrProvince -outputFolder $outputDirectory\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#verify-the-certificate-authority-is-trusted-in-vcenter-server","title":"Verify the Certificate Authority is Trusted in vCenter Server","text":"<p>The <code>Confirm-CAInvCenterServer</code> cmdlet gets the thumbprint from the root certificate and matches it with the CA thumbprint from the vCenter Server instance. You need to pass in the complete path for the certificate file. Returns true if thumbprint matches, else returns false.</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n$issuer = \"rainpole\"\n$signedCertificate = \"F:\\Certificates\\Root64.cer\"\n</code></pre> </li> <li> <p>Verify the Certificate Authority is trusted in vCenter server by running the command in the PowerShell console.</p> <pre><code>Confirm-CAInvCenterServer -server $sddcManagerFqdn -user $sddcManagerUser -password $sddcManagerPass -domain $workloadDomain -issuer $issuer -signedCertificate $signedCertificate\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#set-the-lockdown-mode-for-esxi-hosts","title":"Set the Lockdown Mode for ESXi Hosts","text":"<p>The <code>Set-ESXiLockdownMode</code> cmdlet sets the lockdown mode for all ESXi hosts in a given cluster.</p>"},{"location":"documentation/user-guide/esxi-certificate-management/#disable-lockdown-mode-for-each-esxi-host-in-a-cluster","title":"Disable Lockdown Mode for Each ESXi Host in a Cluster","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n$cluster = \"sfo-m01-cl01\"\n</code></pre> </li> <li> <p>Set the lockdown mode to <code>disable</code> by running the command in the PowerShell console.</p> <pre><code>Set-ESXiLockdownMode -server $sddcManagerFqdn -user $sddcManagerUser -password $sddcManagerPass -domain $workloadDomain -cluster $cluster -disable\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#enable-lockdown-mode-for-each-esxi-host-in-a-cluster","title":"Enable Lockdown Mode for Each ESXi Host in a Cluster","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n$cluster = \"sfo-m01-cl01\"\n</code></pre> </li> <li> <p>Set the lockdown mode to <code>enable</code> by running the command in the PowerShell console.</p> <pre><code>Set-ESXiLockdownMode -server $sddcManagerFqdn -user $sddcManagerUser -password $sddcManagerPass -domain $workloadDomain -cluster $cluster -enable\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#get-the-vsan-health-summary-from-vcenter-server-for-a-cluster","title":"Get the vSAN Health Summary from vCenter Server for a Cluster","text":"<p>The <code>Get-vSANHealthSummary</code> cmdlet gets the vSAN health summary from vCenter Server for a cluster. If any status is YELLOW or RED, a WARNING or ERROR will be raised.</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n$cluster = \"sfo-m01-cl01\"\n</code></pre> </li> <li> <p>Get the vSAN health summary from vCenter server for a cluster by running the command in the PowerShell console.</p> <pre><code>Get-vSANHealthSummary -server $sddcManagerFqdn -user $sddcManagerUser -password $sddcManagerPass -domain $workloadDomain -cluster $cluster\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#install-a-certificate","title":"Install a Certificate","text":"<p>The <code>Install-EsxiCertificate</code> cmdlet will replace the certificate for an ESXi host or for each ESXi host in a cluster. You must provide the directory containing the signed certificate files. Certificate names should be in format .cer (e.g., sfo01-m01-esx01.sfo.rainpole.io.cer.) The workflow will put the ESXi host in maintenance mode (with full data migration for vSAN only), disconnect the ESXi host from the vCenter Server, replace the certificate, restart the ESXi host, and the exit maintenance mode once the ESXi host is online."},{"location":"documentation/user-guide/esxi-certificate-management/#install-a-certificate-to-each-esxi-host-in-a-cluster","title":"Install a Certificate to Each ESXi Host in a Cluster","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n$cluster = \"sfo-m01-cl01\"\n$certificateDirectory = 'F:\\Certificates'\n$certificateFileExt = \".cer\"\n</code></pre> </li> <li> <p>Install a Certificate for each ESXi host in cluster by running the command in the PowerShell console.</p> <pre><code>Install-EsxiCertificate -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $domain -cluster $cluster -certificateDirectory $certificateDirectory -certificateFileExt $certificateFileExt\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#install-a-certificate-to-an-esxi-host","title":"Install a Certificate to an ESXi Host","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n$workloadDomain = \"sfo-m01\"\n$esxiFqdn = 'sfo01-m01-esx01.sfo.rainpole.io'\n$certificateDirectory = 'F:\\Certificates'\n$certificateFileExt = \".cer\"\n</code></pre> </li> <li> <p>Install a certificate to an ESXi host by running the command in the PowerShell console.</p> <pre><code>Install-EsxiCertificate -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $domain -esxiFqdn $esxiFqdn -certificateDirectory $certificateDirectory -certificateFileExt $certificateFileExt\n</code></pre> </li> </ol>"}]}