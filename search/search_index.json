{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Index","text":""},{"location":"#powershell-module-for-vmware-cloud-foundation-certificate-management","title":"PowerShell Module for VMware Cloud Foundation Certificate Management","text":"<p>VMware.CloudFoundation.CertificateManagement` is a PowerShell module designed to provide you the ability to manage certificates within your VMware Cloud Foundation environment.</p> <p>Using this module, you can perform various tasks on a VMware Cloud Foundation instance or a specific workload domain.</p> <ul> <li>Configure the Certificate Authority for SDDC Manager.</li> <li>Generate certificate signing requests for a workload domain.</li> <li>Request signed-certificates for a workload domain.</li> <li>Install and replace CA-signed certificates for a workload domain.+</li> <li>Generate certificate signing requests for ESX hosts.</li> <li>Set the ESX Certificate Mode in vCenter.</li> <li>Install and replace CA-signed certificates for a ESX hosts.</li> </ul> <p> \u00a0 PowerShell Gallery</p>"},{"location":"#requirements","title":"Requirements","text":""},{"location":"#platforms","title":"Platforms","text":"<p>The following table lists the supported platforms for this module.</p> Platform Support  \u00a0 VMware Cloud Foundation 5.2  \u00a0 VMware Cloud Foundation 5.1  \u00a0 VMware Cloud Foundation 5.0  \u00a0 VMware Cloud Foundation 4.5 <p>Note</p> <p>ESX certificate management for VMware Cloud Foundation on Dell EMC VxRail is not supported.</p>"},{"location":"#powershell","title":"PowerShell","text":"<p>The following table lists the supported editions and versions of PowerShell for this module.</p> Edition Version PowerShell Core &gt;= 7.2.0"},{"location":"#module-dependencies","title":"Module Dependencies","text":"<p>The following table lists the required PowerShell module dependencies for this module.</p> PowerShell Module Version Publisher Reference VMware.PowerCLI &gt;= 13.3.0 Broadcom Documentation PowerVCF &gt;= 2.4.1 Broadcom Documentation PowerValidatedSolutions &gt;= 2.12.0 Broadcom Documentation"},{"location":"install/","title":"Installing the Module","text":"<p>Verify that your system has a supported edition and version of PowerShell installed.</p>  \u00a0 Connected Environment \u00a0 Disconnected Environment <p>For environments connected to the Internet, you can install the module dependencies from the PowerShell Gallery by running the following commands in the PowerShell console:</p> <pre><code>Set-PSRepository -Name PSGallery -InstallationPolicy Trusted\nInstall-Module -Name VMware.PowerCLI -MinimumVersion 13.3.0 -Repository PSGallery\nInstall-Module -Name PowerVCF -MinimumVersion 2.4.1 -Repository PSGallery\nInstall-Module -Name PowerValidatedSolutions -MinimumVersion 2.12.0 -Repository PSGallery\nInstall-Module -Name VMware.CloudFoundation.CertificateManagement -Repository PSGallery\n</code></pre> <p>Import the modules before proceeding:</p> <p>For example:</p> <pre><code>Import-Module -Name VMware.PowerCLI\nImport-Module -Name PowerVCF\nImport-Module -Name PowerValidatedSolutions\nImport-Module -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>For environments disconnected from the Internet (e.g., dark-site, air-gapped), you can save the module dependencies from the PowerShell Gallery by running the following commands in the PowerShell console:</p>  \u00a0 Windows \u00a0 Linux <p>From a system with an Internet connection, save the module dependencies from the PowerShell Gallery by running the following commands in the PowerShell console:</p> <pre><code>Save-Module -Name VMware.PowerCLI -MinimumVersion 13.3.0 -Path F:\\Modules\\ -Repository PSGallery\nSave-Module -Name PowerVCF -MinimumVersion 2.4.1 -Path F:\\Modules\\ -Repository PSGallery\nSave-Module -Name PowerValidatedSolutions -MinimumVersion 2.12.0 -Path F:\\Modules\\ -Repository PSGallery\nSave-Module -Name VMware.CloudFoundation.CertificateManagement -Path F:\\Modules\\ -Repository PSGallery\n</code></pre> <p>From the system with the Internet connection, copy the module dependencies to a target system by running the following commands in the PowerShell console:</p> <pre><code>Copy-Item -Path F:\\Modules\\* -Destination '\\\\&lt;destination_host&gt;\\C$\\Program Files\\WindowsPowerShell\\Modules\\' -Recurse\n</code></pre> <p>On the target system, import the module dependencies by running the following commands in the PowerShell console:</p> <pre><code>Import-Module -Name VMware.PowerCLI\nImport-Module -Name PowerVCF\nImport-Module -Name PowerValidatedSolutions\nImport-Module -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>Prerequisite for module install on Linux Machine</p> <pre><code>mkdir /home/modules\n</code></pre> <p>From a system with an Internet connection, save the module dependencies from the PowerShell Gallery by running the following commands in the PowerShell console:</p> <pre><code>Save-Module -Name VMware.PowerCLI -MinimumVersion 13.3.0 -Path /home/modules -Repository PSGallery\nSave-Module -Name PowerVCF -MinimumVersion 2.4.1 -Path /home/modules -Repository PSGallery\nSave-Module -Name PowerValidatedSolutions -MinimumVersion 2.12.0 -Path /home/modules -Repository PSGallery\nSave-Module -Name VMware.CloudFoundation.CertificateManagement -Path /home/modules -Repository PSGallery\n</code></pre> <p>From the system with an Internet connection, copy the module dependencies to a target system by running the following commands in the PowerShell console:</p> <pre><code>scp -r /home/modules/* username@remote_host:/home/lab/.local/share/powershell/Modules/\n</code></pre> <p>On the target system, import the module dependencies by running the following commands in the PowerShell console:</p> <pre><code>Import-Module -Name VMware.PowerCLI\nImport-Module -Name PowerVCF\nImport-Module -Name PowerValidatedSolutions\nImport-Module -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>Once installed, any cmdlets associated with <code>VMware.CloudFoundation.CertificateManagement</code> and the its dependencies will be available for use.</p> <p>To view the cmdlets for available in the module, run the following command in the PowerShell console.</p> <pre><code>Get-Command -Module VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>To view the help for any cmdlet, run the <code>Get-Help</code> command in the PowerShell console.</p> <p>For example:</p> <pre><code>Get-Help -Name &lt;cmdlet-name&gt;\n</code></pre> <pre><code>Get-Help -Name &lt;cmdlet-name&gt; -Examples\n</code></pre>"},{"location":"license/","title":"License","text":"<p>BSD 2-Clause License</p> <p>\u00a9 Broadcom. All Rights Reserved. The term \u201cBroadcom\u201d refers to Broadcom Inc. and/or its subsidiaries.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright       notice, this list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above       copyright notice, this list of conditions and the following       disclaimer in the documentation and/or other materials provided       with the distribution.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"release-notes/","title":"Release History","text":""},{"location":"release-notes/#v155","title":"v1.5.5","text":"<p>Release Date: 2025-05-06</p> <p>Documentation:</p> <ul> <li>Updated documentation to use example context. #141</li> </ul> <p>Chore:</p> <ul> <li>Updated <code>VMware.PowerCLI</code> module dependency to v13.3.0. #140</li> <li>Updated <code>PowerValidatedSolutions</code> module dependency to v2.12.0. #140</li> </ul>"},{"location":"release-notes/#v154","title":"v1.5.4","text":"<p>Release Date: 2024-08-07</p> <p>Enhancement:</p> <ul> <li>Added Pester tests for certificate management. GH-119</li> <li>Add support for non-disruptive ESX certificate replacement in VMware Cloud Foundation 5.2 to <code>Install-VcfCertificate</code> function. GH-123</li> <li>Add support for uploading the private key for non-disruptive ESX certificate replacement in VMware Cloud Foundation 5.2 to <code>Install-VcfCertificate</code> function. GH-123</li> </ul> <p>Chore:</p> <ul> <li>Updated <code>PowerValidatedSolutions</code> from v2.9.0 to v2.11.0. GH-123</li> </ul>"},{"location":"release-notes/#v153","title":"v1.5.3","text":"<p>Release Date: 2024-03-26</p> <p>Bugfix:</p> <ul> <li>Fixed issue with <code>vsanDataMigrationMode</code> not set as optional parameter. GH-112</li> <li>Fixed issue with for loop missing semicolons. GH-112</li> <li>Fixed typo issue with <code>Request-VCFCertificateCSR</code> cmdlet name within <code>Request-SddcCsr</code> cmdlet. GH-112</li> </ul> <p>Chore:</p> <ul> <li>Updated <code>VMware.PowerCLI</code> module dependency from v13.1.0 to v13.2.1. GH-113</li> <li>Updated <code>PowerValidatedSolutions</code> module dependency from v2.8.0 to v2.9.0. GH-113</li> <li>Validated for VMware Cloud Foundation 5.1.1. GH-112</li> </ul>"},{"location":"release-notes/#v152","title":"v1.5.2","text":"<p>Release Date: 2024-02-29</p> <p>Enhancement:</p> <ul> <li>Added a restart for specific vCenter services to <code>Set-EsxiCertificateMode</code> function. GH-110</li> </ul>"},{"location":"release-notes/#v151","title":"v1.5.1","text":"<p>Release Date: 2024-01-30</p> <p>Breaking Change:</p> <ul> <li>Removes support for Microsoft Windows PowerShell 5.1. Please use Microsoft PowerShell 7.2.0 or later. GH-105</li> </ul> <p>Enhancement:</p> <ul> <li>Added <code>vsanDataMigrationMode</code> option to <code>Install-EsxiCertificate</code> cmdlet. Options include <code>Full</code> and <code>EnsureAccessibility</code>. GH-101</li> <li>Added <code>Get-EsxiHostVsanMaintenanceModePrecheck</code> cmdlet. GH-101</li> </ul> <p>Chore:</p> <ul> <li>Updated <code>PowerVCF</code> from v2.4.0 to v2.4.1. GH-107</li> <li>Updated <code>PowerValidatedSolutions</code> from v2.6.0 to v2.8.0. GH-104</li> </ul>"},{"location":"release-notes/#v150","title":"v1.5.0","text":"<p>Release Date: 2023-12-05</p> <p>Bugfix:</p> <ul> <li>Fixes issue with the file path on Linux that is not present on Windows. GH-97</li> </ul> <p>Enhancement:</p> <ul> <li>Added support for use of secure strings for sensitive parameters. GH-95</li> </ul>"},{"location":"release-notes/#v141","title":"v1.4.1","text":"<p>Release Date: 2023-11-27</p> <p>Bugfix:</p> <ul> <li>Updated <code>Test-EsxiCertMgmtChecks</code> to pass the <code>server</code> parameter value for the Certificate Authority and vSAN status checks. GH-90</li> </ul>"},{"location":"release-notes/#v140","title":"v1.4.0","text":"<p>Release Date: 2023-10-05</p> <p>Enhancement:</p> <ul> <li>Breaking Change: Renamed <code>Set-SddcCertificateAuthority</code> to <code>Set-VcfCertificateAuthority</code>. GH-74</li> <li>Breaking Change: Renamed <code>Request-SddcCertificate</code> to <code>Request-VcfSignedCertificate</code>. GH-74</li> <li>Breaking Change: Refactored <code>Set-SddcCertificateAuthority</code> to support OpenSSL Certificate Authority configuration. GH-68</li> <li>Breaking Change: Refactored <code>Get-EsxiCertificateThumbprint</code> and <code>Get-vCenterCertificateThumbprint</code> to a single function <code>Get-VcfCertificateThumbprint</code>. GH-68</li> <li>Added <code>Request-VcfCsr</code>as a wrapper for <code>Request-EsxiCsr</code> and <code>Request-SddcCsr</code>. GH-68</li> <li>Added <code>Install-VcfCertificate</code> as a wrapper for <code>Install-EsxiCertificate</code> and <code>Install-SddcCertificate</code>. GH-68</li> </ul> <p>Bugfix:</p> <ul> <li>Updated <code>Get-vSANHealthSummary</code> to report correct status GH-78</li> </ul> <p>Documentation:</p> <ul> <li>Added reference guide for VMware Cloud Foundation Certificate Operations. GH-68</li> </ul> <p>Chore:</p> <ul> <li>Updated <code>PowerVCF</code> from v2.3.0 to v2.4.0. GH-81</li> <li>Updated cmdlet content for Aria Suite, formerly known as vRealize Suite, products to use the new Aria names where applicable. GH-66</li> <li>Updated cmdlet content in the <code>/docs/documentation</code>. GH-68</li> </ul>"},{"location":"release-notes/#v130","title":"v1.3.0","text":"<p>Release Date: 2023-08-29</p> <p>Enhancement:</p> <ul> <li>Added the <code>Set-SddcCertificateAuthority</code> cmdlet to set the certificate authority in SDDC Manager to use a Microsoft Certificate Authority. GH-52</li> <li>Added the <code>Request-SddcCsr</code> cmdlet to request SDDC Manager to generate and store certificate signing request files. GH-52</li> <li>Added the <code>Request-SddcCertificate</code> cmdlet to request SDDC Manager to connect to certificate authority to sign the certificate signing request files and to store the signed certificates. GH-52</li> <li>Added the <code>Install-SddcCertificates</code> cmdlet to install the signed certificates for all components associated with the given workload domain. GH-52</li> </ul> <p>Chore:</p> <ul> <li>Updated <code>VMware.PowerCLI</code> from v13.0.0 to v13.1.0 GH-58</li> <li>Updated <code>PowerValidatedSolutions</code> from v2.5.0 to v2.6.0. GH-58</li> </ul>"},{"location":"release-notes/#v120","title":"v1.2.0","text":"<p>Release Date: 2023-07-25</p> <p>Enhancement:</p> <ul> <li>Updated module to use <code>Test-VCFConnection</code> instead of <code>Test-Connection</code> where applicable. GH-45</li> <li>Updated module to use <code>Test-EsxiConnection</code> instead of <code>Test-NetConnection</code> where applicable. GH-45</li> </ul> <p>Chore:</p> <ul> <li>Added the <code>RequiredModules</code> key to the module manifest to specify the minimum dependencies required to install and run the PowerShell module. GH-48</li> <li>Updated <code>PowerValidatedSolutions</code> from v2.2.0 to v2.5.0. GH-49</li> </ul>"},{"location":"release-notes/#v110","title":"v1.1.0","text":"<p>Release Date: 2023-06-27</p> <p>Enhancement:</p> <ul> <li>Added support for an ESX certificate management pre-check with <code>Test-EsxiCertMgmtChecks</code> cmdlet. GH-37</li> <li>Added support for PowerShell Core. GH-37</li> <li>Added support for VMware PhotonOS. GH-37</li> <li>Enhanced <code>Get-vSANHealthSummary</code> cmdlet improving log messages and adding a check for vSAN services. GH-37</li> </ul> <p>Bugfix:</p> <ul> <li>Added a disconnect from vCenter prior to an ESX host reboot. GH-36</li> </ul>"},{"location":"release-notes/#v100","title":"v1.0.0","text":"<p>Release Date: 2023-05-30</p> <p>Initial availability of the PowerShell module for VMware Cloud Foundation Certificate Management.</p>"},{"location":"update/","title":"Updating the Module","text":"<p>Update the PowerShell module from the PowerShell Gallery by running the following commands:</p> <pre><code>Update-Module -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>To verify that the PowerShell module is updated, run the following command in the PowerShell console.</p> <pre><code>Get-InstalledModule -Name VMware.CloudFoundation.CertificateManagement\n</code></pre> <p>If a dependency does not meet the minimum requirements, run the appropriate <code>Update-Module</code> command for the dependency in the PowerShell console.</p> <pre><code>Update-Module -Name VMware.PowerCLI\nUpdate-Module -Name PowerVCF\nUpdate-Module -Name PowerValidatedSolutions\n</code></pre>"},{"location":"user-access/","title":"User Access","text":"<p>Each cmdlet may provide one or more usage examples. Many of the cmdlets require that credentials are provided to output to the PowerShell console or a report.</p> <p>The cmdlets in this module, and its dependencies, return data from multple platform components. The credentials for most of the platform components are returned to the cmdlets by retrieving credentials from the SDDC Manager inventory and using these credentials, as needed, within cmdlet operations.</p> <p>For the best expereince, for cmdlets that connect to SDDC Manager, use the VMware Cloud Foundation API user <code>admin@local</code> or an account with the ADMIN role in SDDC Manager (e.g., <code>administrator@vsphere.local</code>).</p>"},{"location":"community/","title":"Community","text":"<p>This PowerShell module is the work of many contributors and the project team appreciates your help!</p> <p>Thank you for your interest in the project. Whether it's a bug report, enhancement, correction, or additional documentation, we greatly value feedback and contributions from our community.</p>"},{"location":"community/code-of-conduct/","title":"Contributor Covenant Code of Conduct","text":""},{"location":"community/code-of-conduct/#our-pledge","title":"Our Pledge","text":"<p>We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation.</p> <p>We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.</p>"},{"location":"community/code-of-conduct/#our-standards","title":"Our Standards","text":"<p>Examples of behavior that contributes to a positive environment for our community include:</p> <ul> <li>Demonstrating empathy and kindness toward other people</li> <li>Being respectful of differing opinions, viewpoints, and experiences</li> <li>Giving and gracefully accepting constructive feedback</li> <li>Accepting responsibility and apologizing to those affected by our mistakes,   and learning from the experience</li> <li>Focusing on what is best not just for us as individuals, but for the overall   community</li> </ul> <p>Examples of unacceptable behavior include:</p> <ul> <li>The use of sexualized language or imagery, and sexual attention or advances of   any kind</li> <li>Trolling, insulting or derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information, such as a physical or email address,   without their explicit permission</li> <li>Other conduct which could reasonably be considered inappropriate in a   professional setting</li> </ul>"},{"location":"community/code-of-conduct/#enforcement-responsibilities","title":"Enforcement Responsibilities","text":"<p>Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.</p> <p>Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.</p>"},{"location":"community/code-of-conduct/#scope","title":"Scope","text":"<p>This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official email address, posting via an official social media account, or acting as an appointed representative at an online or offline event.</p>"},{"location":"community/code-of-conduct/#enforcement","title":"Enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at opensource@broadcom.com. All complaints will be reviewed and investigated promptly and fairly.</p> <p>All community leaders are obligated to respect the privacy and security of the reporter of any incident.</p>"},{"location":"community/code-of-conduct/#enforcement-guidelines","title":"Enforcement Guidelines","text":"<p>Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:</p>"},{"location":"community/code-of-conduct/#1-correction","title":"1. Correction","text":"<p>Community Impact: Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community.</p> <p>Consequence: A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.</p>"},{"location":"community/code-of-conduct/#2-warning","title":"2. Warning","text":"<p>Community Impact: A violation through a single incident or series of actions.</p> <p>Consequence: A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.</p>"},{"location":"community/code-of-conduct/#3-temporary-ban","title":"3. Temporary Ban","text":"<p>Community Impact: A serious violation of community standards, including sustained inappropriate behavior.</p> <p>Consequence: A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.</p>"},{"location":"community/code-of-conduct/#4-permanent-ban","title":"4. Permanent Ban","text":"<p>Community Impact: Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior, harassment of an individual, or aggression toward or disparagement of classes of individuals.</p> <p>Consequence: A permanent ban from any sort of public interaction within the community.</p>"},{"location":"community/code-of-conduct/#attribution","title":"Attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version v2.1.</p> <p>Community Impact Guidelines were inspired by Mozilla's Code of Conduct Enforcement consequence ladder.</p> <p>For answers to common questions about this code of conduct, please refer to the Frequently Asked Questions. Translations are available in additional languages.</p>"},{"location":"community/contributing/","title":"Contributing Guidelines","text":"<p>Thank you for your interest in contributing to our project. Whether it's a bug report, new feature, correction, or additional documentation, we greatly value feedback and contributions from our community.</p> <p>Please read through this document before submitting any issues or pull requests to ensure we have all the necessary information to effectively respond to your bug report or contribution.</p>"},{"location":"community/contributing/#reporting-bugs-and-suggesting-enhancements","title":"Reporting Bugs and Suggesting Enhancements","text":"<p>We welcome you to use the GitHub issues to report bugs or suggest enhancements.</p> <p>When filing an issue, please check existing open, or recently closed, issues to make sure someone else hasn't already reported.</p> <p>Please try to include as much information as you can using the issue form. Details like these are incredibly useful:</p> <ul> <li>A reproducible test case or series of steps.</li> <li>Any modifications you've made relevant to the bug.</li> <li>Anything unusual about your environment or deployment.</li> </ul>"},{"location":"community/contributing/#contributing-via-pull-requests","title":"Contributing via Pull Requests","text":"<p>Contributions using pull requests are appreciated.</p> <p>Before sending us a pull request, please ensure that:</p> <ol> <li>You open a discussion to discuss any significant work with    the maintainer(s).</li> <li>You open an issue and link your pull request to the issue for    context.</li> <li>You are working against the latest source on the <code>develop</code> branch.</li> <li>You check existing open, and recently merged, pull requests to make sure    someone else hasn't already addressed the problem.</li> </ol> <p>To open a pull request, please:</p> <ol> <li>Fork the repository.</li> <li>Modify the source; please focus on the specific change you are    contributing.</li> <li>Ensure local tests pass.</li> <li>Updated the documentation, if required.</li> <li>Sign-off and commit to your fork    using a clear commit messages. Please use    Conventional Commits.</li> <li>Open a pull request, answering any default questions in the pull request.</li> <li>Pay attention to any automated failures reported in the pull request, and    stay involved in the conversation.</li> </ol> <p>GitHub provides additional document on forking a repository and creating a pull request.</p>"},{"location":"community/contributing/#contributor-flow","title":"Contributor Flow","text":"<p>This is an outline of the contributor workflow:</p> <ul> <li>Create a topic branch from where you want to base your work.</li> <li>Make commits of logical units.</li> <li>Make sure your commit messages are   in the proper format and are signed-off.</li> <li>Push your changes to the topic branch in your fork.</li> <li>Submit a pull request. If the pull request is a work in progress, please open   as draft.</li> </ul> <p>[!IMPORTANT] This project requires that commits are signed-off for the Developer Certificate of Origin.</p> <p>Example:</p> <pre><code>git remote add upstream https://github.com/&lt;org-name&gt;/&lt;repo-name&gt;.git\ngit checkout --branch feat/add-x develop\ngit commit --signoff --message \"feat: add support for x\n  Added support for x.\n\n  Signed-off-by: Jane Doe &lt;jdoe@example.com&gt;\n\n  Ref: #123\"\ngit push origin feat/add-x\n</code></pre>"},{"location":"community/contributing/#formatting-commit-messages","title":"Formatting Commit Messages","text":"<p>We follow the conventions on How to Write a Git Commit Message and Conventional Commits.</p> <p>Be sure to include any related GitHub issue references in the commit message.</p> <p>Example:</p> <pre><code>feat: add support for x\n\nAdded support for x.\n\nSigned-off-by: Jane Doe &lt;jdoe@example.com&gt;\n\nRef: #123\n</code></pre>"},{"location":"community/contributing/#staying-in-sync-with-upstream","title":"Staying In Sync With Upstream","text":"<p>When your branch gets out of sync with the <code>vmware/develop</code> branch, use the following to update:</p> <pre><code>git checkout feat/add-x\ngit fetch --all\ngit pull --rebase upstream develop\ngit push --force-with-lease origin feat/add-x\n</code></pre>"},{"location":"community/contributing/#updating-pull-requests","title":"Updating Pull Requests","text":"<p>If your pull request fails to pass or needs changes based on code review, you'll most likely want to squash these changes into existing commits.</p> <p>If your pull request contains a single commit or your changes are related to the most recent commit, you can simply amend the commit.</p> <pre><code>git add .\ngit commit --amend\ngit push --force-with-lease origin feat/add-x\n</code></pre> <p>If you need to squash changes into an earlier commit, you can use:</p> <pre><code>git add .\ngit commit --fixup &lt;commit&gt;\ngit rebase --interactive --autosquash develop\ngit push --force-with-lease origin feat/add-x\n</code></pre> <p>Be sure to add a comment to the pull request indicating your new changes are ready to review, as GitHub does not generate a notification when you <code>git push</code>.</p>"},{"location":"community/contributing/#finding-contributions-to-work-on","title":"Finding Contributions to Work On","text":"<p>Looking at the existing issues is a great way to find something to contribute on. If you have an idea you'd like to discuss, open a discussion.</p>"},{"location":"community/support/","title":"Support","text":"<p> \u00a0 This module is community-driven and maintained by the project contributors. It is not officially supported by Broadcom Support but thrives on collaboration and input from its users.</p> <p> \u00a0 Use the GitHub issues to report bugs or suggest enhancements.</p> <p> \u00a0 Issues are monitored by the maintainers and are prioritized based on criticality and community reactions.</p> <p> \u00a0 Before opening an issue, please search the issues and use the reactions to add votes to matching issues. Please include as much information as you can. Details like these are incredibly useful in helping the us evaluate and prioritize any changes:</p> <ul> <li>A reproducible test case or series of steps.</li> <li>Any modifications you've made relevant to the bug.</li> <li>Anything unusual about your environment or deployment.</li> </ul> <p> \u00a0 You can also start a discussion on the GitHub discussions area to ask questions or share ideas.</p>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/","title":"Confirm-CAInvCenterServer","text":""},{"location":"documentation/functions/Confirm-CAInvCenterServer/#synopsis","title":"Synopsis","text":"<p>Verifies the root certificate thumbprint matches with one of the CA thumbprints from vCenter instance.</p>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#syntax","title":"Syntax","text":"<pre><code>Confirm-CAInvCenterServer [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-signedCertificate] &lt;String&gt; [[-issuer] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#description","title":"Description","text":"<p>The <code>Confirm-CAInvCenterServer</code> cmdlet gets the thumbprint from the root certificate and matches it with the CA thumbprint from the vCenter instance.</p> <p>You need to pass in the complete path for the certificate file.</p> <p>Returns <code>true</code> if thumbprint matches, else returns <code>false</code>.</p>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#examples","title":"Examples","text":""},{"location":"documentation/functions/Confirm-CAInvCenterServer/#example-1","title":"Example 1","text":"<pre><code>Confirm-CAInvCenterServer -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -issuer [issuer_name] -signedCertificate [full_certificate_file_path]\n</code></pre> <p>This example matches the thumbprint of provided root certificate file with the thumbprints on the vCenter instance matching the issuer.</p>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-domain","title":"-domain","text":"<p>The name of the workload domain to retrieve the vCenter instance's certificate thumbprints from.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-signedcertificate","title":"-signedCertificate","text":"<p>The complete path for the root certificate file.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#-issuer","title":"-issuer","text":"<p>The name of the issuer to match with the thumbprint.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-CAInvCenterServer/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/","title":"Confirm-EsxiCertificateInstalled","text":""},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#synopsis","title":"Synopsis","text":"<p>Verifies if the provided certificate is already on the ESX host.</p>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#syntax","title":"Syntax","text":"<pre><code>Confirm-EsxiCertificateInstalled [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-esxiFqdn] &lt;String&gt; [-signedCertificate] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#description","title":"Description","text":"<p>The <code>Confirm-EsxiCertificateInstalled</code> cmdlet will get the thumbprint from the provided signed certificate and matches it with the certificate thumbprint from ESX host.</p> <p>You need to pass in the complete path for the certificate file.</p> <p>Returns <code>true</code> if certificate is already installed, else returns <code>false</code>.</p>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#examples","title":"Examples","text":""},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#example-1","title":"Example 1","text":"<pre><code>Confirm-EsxiCertificateInstalled -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -esxiFqdn [esx_host_fqdn] -signedCertificate [full_certificate_file_path]\n</code></pre> <p>This example checks the thumbprint of the provided signed certificate with the thumbprint on ESX host.</p>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#-esxifqdn","title":"-esxiFqdn","text":"<p>The fully qualified domain name of the ESX host to verify the certificate thumbprint against.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#-signedcertificate","title":"-signedCertificate","text":"<p>The complete path for the signed certificate file.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Confirm-EsxiCertificateInstalled/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-EsxiCertificateMode/","title":"Get-EsxiCertificateMode","text":""},{"location":"documentation/functions/Get-EsxiCertificateMode/#synopsis","title":"Synopsis","text":"<p>Retrieves the certificate management mode value from the vCenter instance for a workload domain.</p>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#syntax","title":"Syntax","text":"<pre><code>Get-EsxiCertificateMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#description","title":"Description","text":"<p>The <code>Get-EsxiCertificateMode</code> cmdlet retrieves the certificate management mode value from vCenter instance for a workload domain.</p>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#examples","title":"Examples","text":""},{"location":"documentation/functions/Get-EsxiCertificateMode/#example-1","title":"Example 1","text":"<pre><code>Get-EsxiCertificateMode -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name]\n</code></pre> <p>This example retrieves the certificate management mode value for the vCenter instance for the workload domain.</p>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Get-EsxiCertificateMode/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#-domain","title":"-domain","text":"<p>The name of the workload domain to retrieve the certificate management mode value for.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiCertificateMode/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/","title":"Get-EsxiHostVsanMaintenanceModePrecheck","text":""},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#synopsis","title":"Synopsis","text":"<p>Checks for any issues when the ESX host enters a particular vSAN maintenance mode.</p>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#syntax","title":"Syntax","text":"<pre><code>Get-EsxiHostVsanMaintenanceModePrecheck [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt; [[-esxiFqdn] &lt;String&gt;] [-vsanDataMigrationMode] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#description","title":"Description","text":"<p>The <code>Get-EsxiHostVsanMaintenanceModePrecheck</code> cmdlet checks if there's any issue for the ESX host entering a particular vSAN maintenance mode. The cmdlet will halt the script if the pre-check fails.</p> <p>If <code>esxiFqdn</code> is provided, only the value for that host is returned.</p>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#examples","title":"Examples","text":""},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#example-1","title":"Example 1","text":"<pre><code>Get-EsxiHostVsanMaintenanceModePrecheck -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -vsanDataMigrationMode Full\n</code></pre> <p>This example checks each ESX host within a cluster within the workload domain for any issues when entering maintenance mode with vSAN maintenance mode set to Full migration</p>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#example-2","title":"Example 2","text":"<pre><code>Get-EsxiHostVsanMaintenanceModePrecheck -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -host [esx_host_fqdn] -vsanDataMigrationMode Full\n</code></pre> <p>This example checks the ESX host within the workload domain for any issues when entering maintenance mode with vSAN maintenance mode set to Full migration</p>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESX host is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#-esxifqdn","title":"-esxiFqdn","text":"<p>The fully qualified domain name of the ESX host within the workload domain.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#-vsandatamigrationmode","title":"-vsanDataMigrationMode","text":"<p>The vSan Data Migration mode validate value (\"Full\", \"EnsureAccessibility\", \"NoDataMigration\").</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 7\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiHostVsanMaintenanceModePrecheck/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-EsxiLockdownMode/","title":"Get-EsxiLockdownMode","text":""},{"location":"documentation/functions/Get-EsxiLockdownMode/#synopsis","title":"Synopsis","text":"<p>Retrieves the ESX host lockdown mode state from a vCenter instance.</p>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#syntax","title":"Syntax","text":"<pre><code>Get-EsxiLockdownMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt; [[-esxiFqdn] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#description","title":"Description","text":"<p>The <code>Get-EsxiLockdownMode</code> cmdlet gets the lockdown mode value for all ESX hosts in a given cluster or for a given ESX host within the cluster.</p> <p>If <code>esxiFqdn</code> is provided, only the value for that host is returned.</p>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#examples","title":"Examples","text":""},{"location":"documentation/functions/Get-EsxiLockdownMode/#example-1","title":"Example 1","text":"<pre><code>Get-EsxiLockdownMode -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name]\n</code></pre> <p>This example retrieves the lockdown mode for each ESX host in a cluster.</p>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#example-2","title":"Example 2","text":"<pre><code>Get-EsxiLockdownMode -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -esxiFqdn [esx_host_fqdn]\n</code></pre> <p>This example retrieves the lockdown mode state for an ESX host in a given cluster.</p>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Get-EsxiLockdownMode/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#-pass","title":"-pass","text":"<p>The passwordto authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESX host is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#-esxifqdn","title":"-esxiFqdn","text":"<p>The fully qualified domain name of the ESX host to retrieve the lockdown mode state for.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-EsxiLockdownMode/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/","title":"Get-VcfCertificateThumbprint","text":""},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#synopsis","title":"Synopsis","text":"<p>Retrieves certificate thumbprints for ESX hosts or vCenter instances.</p>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#syntax","title":"Syntax","text":""},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#certificate-thumbprint-from-an-esx-host","title":"Certificate Thumbprint from an ESX Host","text":"<pre><code>Get-VcfCertificateThumbprint [-esxi] [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-esxiFqdn] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#certificate-thumbprint-from-a-vcenter-instance","title":"Certificate Thumbprint from a vCenter Instance","text":"<pre><code>Get-VcfCertificateThumbprint [-vcenter] [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [[-issuer] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#description","title":"Description","text":"<p>The <code>Get-VcfCertificateThumbprint</code> cmdlet retrieves certificate thumbprints for ESX hosts or vCenter instances.</p>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#examples","title":"Examples","text":""},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#example-1","title":"Example 1","text":"<pre><code>Get-VcfCertificateThumbprint -esxi -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -esxiFqdn [esx_host_fqdn]\n</code></pre> <p>This example retrieves the ESX host's certificate thumbprint for an ESX host.</p>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#example-2","title":"Example 2","text":"<pre><code>Get-VcfCertificateThumbprint -vcenter -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name]\n</code></pre> <p>This example retrieves the certificate thumbprints for the vCenter instance belonging to the domain.</p>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#example-3","title":"Example 3","text":"<pre><code>Get-VcfCertificateThumbprint -vcenter -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -issuer [issuer_name]\n</code></pre> <p>This example retrieves the vCenter instance's certificate thumbprints for the vCenter instance belonging to domain and a matching issuer.</p>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#-esxi","title":"-esxi","text":"<p>Switch to retrieve the certificate thumbprint for an ESX host.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (esxi)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#-vcenter","title":"-vcenter","text":"<p>Switch to retrieve the certificate thumbprints for a vCenter instance.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (vcenter)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#-esxifqdn","title":"-esxiFqdn","text":"<p>The fully qualified domain name of the ESX host to retrieve the certificate thumbprint.</p> <pre><code>Type: String\nParameter Sets: (esxi)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#-domain","title":"-domain","text":"<p>The name of the workload domain to retrieve the vCenter instance's certificate thumbprints from.</p> <pre><code>Type: String\nParameter Sets: (vcenter)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#-issuer","title":"-issuer","text":"<p>The name of the issuer to match with the vCenter instance's certificate thumbprints.</p> <pre><code>Type: String\nParameter Sets: (vcenter)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-VcfCertificateThumbprint/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Get-vSANHealthSummary/","title":"Get-vSANHealthSummary","text":""},{"location":"documentation/functions/Get-vSANHealthSummary/#synopsis","title":"Synopsis","text":"<p>Retrieves the vSAN health summary from vCenter for a cluster.</p>"},{"location":"documentation/functions/Get-vSANHealthSummary/#syntax","title":"Syntax","text":"<pre><code>Get-vSANHealthSummary [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#description","title":"Description","text":"<p>The <code>Get-vSANHealthSummary</code> cmdlet gets the vSAN health summary from vCenter for a cluster.</p> <p>If any status is YELLOW or RED, a WARNING or ERROR will be raised.</p>"},{"location":"documentation/functions/Get-vSANHealthSummary/#examples","title":"Examples","text":""},{"location":"documentation/functions/Get-vSANHealthSummary/#example-1","title":"Example 1","text":"<pre><code>Get-vSANHealthSummary -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name]\n</code></pre> <p>This example gets the vSAN health summary for cluster.</p>"},{"location":"documentation/functions/Get-vSANHealthSummary/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Get-vSANHealthSummary/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#-cluster","title":"-cluster","text":"<p>The name of the cluster to retrieve the vSAN health summary for.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Get-vSANHealthSummary/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Install-VcfCertificate/","title":"Install-VcfCertificate","text":""},{"location":"documentation/functions/Install-VcfCertificate/#synopsis","title":"Synopsis","text":"<p>Installs the signed certificates for all components associated with the given workload domain, or an ESX Host or for each ESX host in a given cluster.</p>"},{"location":"documentation/functions/Install-VcfCertificate/#syntax","title":"Syntax","text":""},{"location":"documentation/functions/Install-VcfCertificate/#installing-certificates-for-a-workload-domain","title":"Installing Certificates for a Workload Domain","text":"<pre><code>Install-VcfCertificate [-sddcManager] [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-workloadDomain] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#installing-certificates-esx-hosts-in-a-cluster","title":"Installing Certificates ESX Hosts in a Cluster","text":"<pre><code>Install-VcfCertificate [-esxi] [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt; [-vsanDataMigrationMode] &lt;String&gt; [-migratePowerOffVMs] [-certificateDirectory] &lt;String&gt; [-certificateFileExt] &lt;String&gt; [[-timeout] &lt;String&gt;] [-NoConfirmation] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#installing-a-certificate-for-an-esx-host","title":"Installing a Certificate for an ESX Host","text":"<pre><code>Install-VcfCertificate [-esxi] [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-esxiFqdn] &lt;String&gt; [-vsanDataMigrationMode] &lt;String&gt;[-migratePowerOffVMs] [-certificateDirectory] &lt;String&gt; [-certificateFileExt] &lt;String&gt; [[-timeout] &lt;String&gt;] [-NoConfirmation] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#description","title":"Description","text":"<p>The <code>Install-VcfCertificate</code> will install the signed certificates for all components associated with the given workload domain when used with the <code>-sddcManager</code> switch.</p> <p>The <code>Install-VcfCertificate</code> will replace the certificate for an ESX host or for each ESX host in a cluster when used with the <code>-esxi</code> switch.</p> <p>When used with the <code>-esxi</code> switch, this cmdlet:</p> <ul> <li>You must provide the directory containing the signed certificate files.</li> <li>Certificate names should be in format<code>&lt;esx_host_fqdn&gt;.crt</code>.</li> <li>The workflow will put the ESX host in maintenance mode with full data migration, disconnect the ESX host from the vCenter, replace the certificate, restart the ESX host, and the exit maintenance mode once the ESX host is online.</li> </ul>"},{"location":"documentation/functions/Install-VcfCertificate/#examples","title":"Examples","text":""},{"location":"documentation/functions/Install-VcfCertificate/#example-1","title":"Example 1","text":"<pre><code>Install-VcfCertificate -sddcManager -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -workloadDomain [workload_domain_name]\n</code></pre> <p>This example will connect to SDDC Manager to install the signed certificates for a given workload domain.</p>"},{"location":"documentation/functions/Install-VcfCertificate/#example-2","title":"Example 2","text":"<pre><code>Install-VcfCertificate -esxi -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -esxiFqdn [esx_host_fqdn] -migratePowerOffVMs -vsanDataMigrationMode EnsureAccessibility -certificateDirectory [certificate_directory_path] -certificateFileExt \".cer\"\n</code></pre> <p>This example will install the certificate to the ESX host sfo01-m01-esx01.sfo.rainpole.io in sfo-m01 workload domain using the provided path.</p> <p>For VMware Cloud Foundation 5.1 or earlier, the ESX host will enter maintenance mode with vSAN data migration Mode set to <code>EnsureAccessibility</code>. Any powered off virtual machines will be migrated off the ESX host prior to entering maintenance mode.</p>"},{"location":"documentation/functions/Install-VcfCertificate/#example-3","title":"Example 3","text":"<pre><code>Install-VcfCertificate -esxi -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -certificateDirectory [certificate_directory_path] -certificateFileExt \".cer\"\n</code></pre> <p>This example will install certificates for each ESX host in the sfo-m01-cl01 cluster within the sfo-m01 workload domain, using the provided path.</p> <p>For VMware Cloud Foundation 5.2 or later, the <code>vsanDataMigrationMode</code> option is no longer applicable.</p> <p>For VMware Cloud Foundation 5.1 or earlier, by default the ESX hosts will enter maintenance mode with vSAN data migration Mode set to <code>Full data migration</code>. Any powered off virtual machines will not be migrated off the ESX hosts prior to entering maintenance mode.</p>"},{"location":"documentation/functions/Install-VcfCertificate/#example-4","title":"Example 4","text":"<pre><code>Install-VcfCertificate -esxi -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -certificateDirectory [certificate_directory_path] -certificateFileExt \".cer\" -uploadPrivateKey\n</code></pre> <p>This example will install private keys and certificates for each ESX host in the sfo-m01-cl01 cluster within the sfo-m01 workload domain, using the provided path.</p> <p>The <code>uploadPrivateKey</code> parameter is only validated for VMware Cloud Foundation version is 5.2 or later.</p>"},{"location":"documentation/functions/Install-VcfCertificate/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Install-VcfCertificate/#-esxi","title":"-esxi","text":"<p>Switch to indicate that the certificate is to be installed on an ESX host.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (esxi)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-sddcmanager","title":"-sddcManager","text":"<p>Switch to indicate that the certificate is to be installed for all components associated with the given workload domain, excluding ESX hosts.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (sddcManager)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the certificate is requested to be installed or where the ESX host is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESX host is located.</p> <pre><code>Type: String\nParameter Sets: (esxi)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-esxifqdn","title":"-esxiFqdn","text":"<p>The fully qualified domain name of the ESX host.</p> <pre><code>Type: String\nParameter Sets: (esxi)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-certificatedirectory","title":"-certificateDirectory","text":"<p>The directory containing the signed certificate files.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-certificatefileext","title":"-certificateFileExt","text":"<p>The file extension of the certificate files. One of \".crt\", \".cer\", \".pem\", \".p7b\", or \".p7c\".</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-timeout","title":"-timeout","text":"<p>The timeout in seconds for putting the ESX host in maintenance mode. Default is 18000 seconds (5 hours).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: 18000\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-vsandatamigrationmode","title":"-vsanDataMigrationMode","text":"<p>The vSAN Data Migration mode validate value (\"Full\", \"EnsureAccessibility\").</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-migratepoweroffvms","title":"-migratePowerOffVMs","text":"<p>Option to decide if power off virtual machines and suspended virtual machines will be migrated to other ESX hosts when the ESX host goes into maintenance mode.</p> <pre><code>Type: Switch\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-noconfirmation","title":"-NoConfirmation","text":"<p>Option to skip Confirmation warning when performing the ESX host certificate replacement.</p> <pre><code>Type: Switch\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#-uploadprivatekey","title":"-uploadPrivateKey","text":"<p>Option to upload an external private key when performing the ESX host certificate replacement. Supported on VMware Cloud Foundation 5.2 or later</p> <pre><code>Type: Switch\nParameter Sets: (ALL)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Install-VcfCertificate/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Request-VcfCsr/","title":"Request-VcfCsr","text":""},{"location":"documentation/functions/Request-VcfCsr/#synopsis","title":"Synopsis","text":"<p>Requests SDDC Manager to generate and store certificate signing request (CSR) files or requests a certificate signing request for either an ESX host or a for each ESX host in a cluster and saves it to file(s) in a directory.</p>"},{"location":"documentation/functions/Request-VcfCsr/#syntax","title":"Syntax","text":""},{"location":"documentation/functions/Request-VcfCsr/#certificate-signing-requests-for-a-workload-domain","title":"Certificate Signing Requests for a Workload Domain","text":"<pre><code>Request-VcfCsr [-sddcManager] [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-workloadDomain] &lt;String&gt; [-country] &lt;String&gt; [-keySize] &lt;String&gt; [-locality] &lt;String&gt; [-organization] &lt;String&gt; [-organizationUnit] &lt;String&gt; [-stateOrProvince] &lt;String&gt; [-email] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#certificate-signing-request-for-all-esx-hosts-in-a-cluster","title":"Certificate Signing Request for all ESX Hosts in a Cluster","text":"<pre><code>Request-VcfCsr [-esxi] [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt; [-outputDirectory] &lt;String&gt; [-country] &lt;String&gt; [-locality] &lt;String&gt; [-organization] &lt;String&gt; [-organizationUnit] &lt;String&gt; [-stateOrProvince] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#certificate-signing-request-for-an-esx-host","title":"Certificate Signing Request for an ESX Host","text":"<pre><code>Request-VcfCsr [-esxi] [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] [-esxiFqdn] &lt;String&gt; [-outputDirectory] &lt;String&gt; [-country] &lt;String&gt; [-locality] &lt;String&gt; [-organization] &lt;String&gt; [-organizationUnit] &lt;String&gt; [-stateOrProvince] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#description","title":"Description","text":"<p>The <code>Request-VcfCsr</code> will request SDDC Manager to generate certificate signing request files for all components associated with the given domain when used with <code>-sddcManager</code> switch.  The <code>Request-VcfCsr</code> will generate the certificate signing request for ESX host(s) and saves it to file(s) in an output directory when used with <code>-esxi</code> switch.</p> <p>The cmdlet connects to the SDDC Manager using the <code>-server</code>, <code>-user</code>, and <code>-password</code> values.</p> <ul> <li>Validates that network connectivity and authentication is possible to SDDC Manager.</li> <li>Validates that the workload domain exists in the SDDC Manager inventory.</li> <li>Validates that network connectivity and authentication is possible to vCenter.</li> <li>Defines possible country codes. Reference</li> </ul> <p>When used with the <code>-esxi</code> switch, this cmdlet:</p> <ul> <li>Gathers the ESX hosts from the cluster.</li> <li>Requests the ESX host CSR and saves it in the output directory as <code>&lt;esxi-host-fqdn&gt;.csr</code> (e.g., <code>sfo01-m01-esx01.sfo.rainpole.io.csr</code>.)</li> </ul>"},{"location":"documentation/functions/Request-VcfCsr/#examples","title":"Examples","text":""},{"location":"documentation/functions/Request-VcfCsr/#example-1","title":"Example 1","text":"<pre><code>Request-VcfCsr -esxi -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -country [country] -locality [locality] -organization [organization] -organizationUnit [organization_unit] -stateOrProvince [state_or_province] -outputDirectory [output_path]\n</code></pre> <p>This example generates CSRs and stores them in the provided output directory for all ESX hosts in the cluster with the specified fields.</p>"},{"location":"documentation/functions/Request-VcfCsr/#example-2","title":"Example 2","text":"<pre><code>Request-VcfCsr -sddcManager -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -country [country] -keysize [keysize] -locality [locality] -organization [organization] -organizationUnit [organization_unit] -stateOrProvince [state_or_province] -email [email_address]\n</code></pre> <p>This example will request SDDC Manager to generate certificate signing request files for all components associated with the given workload domain.</p>"},{"location":"documentation/functions/Request-VcfCsr/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Request-VcfCsr/#-esxi","title":"-esxi","text":"<p>Switch to request and save certificate signing request files for ESX hosts</p> <pre><code>Type: SwitchParameter\nParameter Sets: (esxi)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-sddcmanager","title":"-sddcManager","text":"<p>Switch to request and store certificate signing request files on SDDC Manager</p> <pre><code>Type: SwitchParameter\nParameter Sets: (sddcManager)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESX host is located.</p> <pre><code>Type: String\nParameter Sets: (esxi)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-esxifqdn","title":"-esxiFqdn","text":"<p>The fully qualified domain name of the ESX host to request certificate signing request (CSR) for.</p> <pre><code>Type: String\nParameter Sets: (esxi)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-outputdirectory","title":"-outputDirectory","text":"<p>The directory to save the certificate signing request (CSR) files.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-country","title":"-country","text":"<p>The country code for the certificate signing request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-locality","title":"-locality","text":"<p>The locality for the certificate signing request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-organization","title":"-organization","text":"<p>The organization for the certificate signing request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-organizationunit","title":"-organizationUnit","text":"<p>The organization unit for the certificate signing request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#-stateorprovince","title":"-stateOrProvince","text":"<p>The state or province for the certificate signing request (CSR).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfCsr/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Request-VcfSignedCertificate/","title":"Request-VcfSignedCertificate","text":""},{"location":"documentation/functions/Request-VcfSignedCertificate/#synopsis","title":"Synopsis","text":"<p>Requests SDDC Manager to connect to certificate authority to sign the certificate signing request files and to store the signed certificates.</p>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#syntax","title":"Syntax","text":"<pre><code>Request-VcfSignedCertificate [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-workloadDomain] &lt;String&gt; [-certAuthority] &lt;String&gt;[&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#description","title":"Description","text":"<p>The <code>Request-VcfSignedCertificate</code> will request SDDC Manager to connect to the certificate authority to sign the generated certificate signing request files for all components associated with the given workload domain</p>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#examples","title":"Examples","text":""},{"location":"documentation/functions/Request-VcfSignedCertificate/#example-1","title":"Example 1","text":"<pre><code>Request-VcfSignedCertificate -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -workloadDomain [workload_domain_name] -certAuthority Microsoft\n</code></pre> <p>This example will connect to SDDC Manager to request to have the certificate signing request files for a given workload domain to be signed by Microsft CA.</p>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#example-2","title":"Example 2","text":"<pre><code>Request-VcfSignedCertificate -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -workloadDomain [workload_domain_name] -certAuthority OpenSSL\n</code></pre> <p>This example will connect to SDDC Manager to request to have the certificate signing request files for a given workload domain to be signed by OpenSSL CA.</p>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Request-VcfSignedCertificate/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#-workloaddomain","title":"-workloadDomain","text":"<p>The name of the workload domain in which the certificate is requested to be signed.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#-certauthority","title":"-certAuthority","text":"<p>The type of Certificate Authority to be configured. One of: <code>Microsoft</code>, <code>OpenSSL</code>.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Request-VcfSignedCertificate/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Restart-EsxiHost/","title":"Restart-EsxiHost","text":""},{"location":"documentation/functions/Restart-EsxiHost/#synopsis","title":"Synopsis","text":"<p>Restarts an ESX host and poll for connection availability.</p>"},{"location":"documentation/functions/Restart-EsxiHost/#syntax","title":"Syntax","text":"<pre><code>Restart-EsxiHost [-esxiFqdn] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [[-poll] &lt;Boolean&gt;] [[-timeout] &lt;String&gt;] [[-pollInterval] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Restart-EsxiHost/#description","title":"Description","text":"<p>The <code>Restart-EsxiHost</code> cmdlet restarts an ESX host and polls for connection availability.</p> <p>Timeout value is in seconds.</p>"},{"location":"documentation/functions/Restart-EsxiHost/#examples","title":"Examples","text":""},{"location":"documentation/functions/Restart-EsxiHost/#example-1","title":"Example 1","text":"<pre><code>Restart-EsxiHost -esxiFqdn [esx_host_fqdn] -user [admin_username] -pass [admin_password] -poll $true -timeout 1800 -pollInterval 30\n</code></pre> <p>This example restarts an ESX host and polls the connection availability every 30 seconds. It will timeout after 1800 seconds.</p>"},{"location":"documentation/functions/Restart-EsxiHost/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Restart-EsxiHost/#-esxifqdn","title":"-esxiFqdn","text":"<p>The fully qualified domain name of the ESX host.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-EsxiHost/#-user","title":"-user","text":"<p>The username to authenticate to the ESX host.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-EsxiHost/#-pass","title":"-pass","text":"<p>The password to authenticate to the ESX host.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-EsxiHost/#-poll","title":"-poll","text":"<p>Poll for connection availability after restarting the ESX host. Default is true.</p> <pre><code>Type: Boolean\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 4\nDefault value: True\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-EsxiHost/#-timeout","title":"-timeout","text":"<p>The timeout value in seconds. Default is 1800 seconds.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 5\nDefault value: 1800\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-EsxiHost/#-pollinterval","title":"-pollInterval","text":"<p>The poll interval in seconds. Default is 30 seconds.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: 30\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Restart-EsxiHost/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Set-EsxiCertificateMode/","title":"Set-EsxiCertificateMode","text":""},{"location":"documentation/functions/Set-EsxiCertificateMode/#synopsis","title":"Synopsis","text":"<p>Sets the certificate management mode in vCenter for the ESX hosts in a workload domain.</p>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#syntax","title":"Syntax","text":"<pre><code>Set-EsxiCertificateMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-mode] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#description","title":"Description","text":"<p>The <code>Set-EsxiCertificateMode</code> cmdlet sets the certificate management mode in vCenter for the ESX hosts in a workload domain.</p>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#examples","title":"Examples","text":""},{"location":"documentation/functions/Set-EsxiCertificateMode/#example-1","title":"Example 1","text":"<pre><code>Set-EsxiCertificateMode -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -mode custom\n</code></pre> <p>This example sets the certificate management mode to custom in vCenter for the ESX hosts in workload domain.</p>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Set-EsxiCertificateMode/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#-domain","title":"-domain","text":"<p>The name of the workload domain to set the vCenter instance certificate management mode setting for.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#-mode","title":"-mode","text":"<p>The certificate management mode to set in vCenter. One of \"custom\" or \"vmca\".</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiCertificateMode/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Set-EsxiLockdownMode/","title":"Set-EsxiLockdownMode","text":""},{"location":"documentation/functions/Set-EsxiLockdownMode/#synopsis","title":"Synopsis","text":"<p>Sets the lockdown mode for all ESX hosts in a given cluster.</p>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#syntax","title":"Syntax","text":""},{"location":"documentation/functions/Set-EsxiLockdownMode/#enable","title":"enable","text":"<pre><code>Set-EsxiLockdownMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt; [-enable] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#disable","title":"disable","text":"<pre><code>Set-EsxiLockdownMode [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt;\n [-disable] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#description","title":"Description","text":"<p>The <code>Set-EsxiLockdownMode</code> cmdlet sets the lockdown mode for all ESX hosts in a given cluster.</p>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#examples","title":"Examples","text":""},{"location":"documentation/functions/Set-EsxiLockdownMode/#example-1","title":"Example 1","text":"<pre><code>Set-EsxiLockdownMode -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -enable\n</code></pre> <p>This example will enable the lockdown mode for all ESX hosts in a cluster.</p>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#example-2","title":"Example 2","text":"<pre><code>Set-EsxiLockdownMode -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -disable\n</code></pre> <p>This example will disable the lockdown mode for all ESX hosts in a cluster.</p>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Set-EsxiLockdownMode/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#-pass","title":"-pass","text":"<p>The passwordto authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#-domain","title":"-domain","text":"<p>The name of the workload domain in which the cluster is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESX host is located.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#-enable","title":"-enable","text":"<p>Enable lockdown mode for the ESX host(s).</p> <pre><code>Type: SwitchParameter\nParameter Sets: enable\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#-disable","title":"-disable","text":"<p>Disable lockdown mode for the ESX host(s).</p> <pre><code>Type: SwitchParameter\nParameter Sets: disable\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-EsxiLockdownMode/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/","title":"Set-VcfCertificateAuthority","text":""},{"location":"documentation/functions/Set-VcfCertificateAuthority/#synopsis","title":"Synopsis","text":"<p>Sets the certificate authority in SDDC Manager to use a Microsoft Certificate Authority or an OpenSSL Certificate Authority.</p>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#syntax","title":"Syntax","text":""},{"location":"documentation/functions/Set-VcfCertificateAuthority/#microsoft-certificate-authority","title":"Microsoft Certificate Authority","text":"<pre><code>Set-VcfCertificateAuthority [-certAuthority] &lt;String&gt; [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-certAuthorityFqdn] &lt;String&gt; [-certAuthorityUser] &lt;String&gt; [-certAuthorityPass] &lt;String&gt; [-certAuthorityTemplate] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#openssl-certificate-authority","title":"OpenSSL Certificate Authority","text":"<pre><code>Set-VcfCertificateAuthority [-certAuthority] &lt;String&gt; [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-commonName] &lt;String&gt; [-organization] &lt;String&gt; [-organizationUnit] &lt;String&gt; [-locality] &lt;String&gt; [-state] &lt;String&gt; [-country] &lt;String&gt; [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#description","title":"Description","text":"<p>The <code>Set-VcfCertificateAuthority</code> will configure Microsoft Certificate Authority or OpenSSL Certificate Authority as SDDC Manager's Certificate Authority.</p>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#examples","title":"Examples","text":""},{"location":"documentation/functions/Set-VcfCertificateAuthority/#example-1","title":"Example 1","text":"<pre><code>Set-VcfCertificateAuthority -certAuthority Microsoft -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -certAuthorityFqdn [certificate_authority_fqdn] -certAuthorityUser [certificate_authority_username] -certAuthorityPass [certificate_authority_password] -certAuthorityTemplate [certificate_authority_template_name]\n</code></pre> <p>This example will configure Microsoft Certificate Authority in SDDC Manager.</p>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#example-2","title":"Example 2","text":"<pre><code>Set-VcfCertificateAuthority -certAuthority OpenSSL -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -commonName [common_name] -organization [organization] -organizationUnit [organization_unit] -locality [locality] -state [state] -country [country]\n</code></pre> <p>This example will configure an OpenSSL Certificate Authority in SDDC Manager.</p>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-certauthority","title":"-certAuthority","text":"<p>The type of Certificate Authority to be configured. One of: <code>Microsoft</code>, <code>OpenSSL</code>.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-certauthorityfqdn","title":"-certAuthorityFqdn","text":"<p>The fully qualified domain name of the Microsoft Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (microsoft)\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-certauthorityuser","title":"-certAuthorityUser","text":"<p>The username to authenticate to the Microsoft Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (microsoft)\nAliases:\n\nRequired: True\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-certauthoritypass","title":"-certAuthorityPass","text":"<p>The password to authenticate to the Microsoft Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (microsoft)\nAliases:\n\nRequired: True\nPosition: 7\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-certauthoritytemplate","title":"-certAuthorityTemplate","text":"<p>The Certificate Template Name to be used with the Microsoft Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (microsoft)\nAliases:\n\nRequired: True\nPosition: 8\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-commonname","title":"-commonName","text":"<p>Specifies the common name for the OpenSSL Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (openssl)\nAliases:\n\nRequired: True\nPosition: 9\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-organization","title":"-organization","text":"<p>Specifies the organization name for the OpenSSL Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (openssl)\nAliases:\n\nRequired: True\nPosition: 10\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-organizationunit","title":"-organizationUnit","text":"<p>Specifies the organization unit for the OpenSSL Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (openssl)\nAliases:\n\nRequired: True\nPosition: 11\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-locality","title":"-locality","text":"<p>Specifies the locality for the OpenSSL Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (openssl)\nAliases:\n\nRequired: True\nPosition: 12\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-state","title":"-state","text":"<p>Specifies the state for the OpenSSL Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (openssl)\nAliases:\n\nRequired: True\nPosition: 13\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#-country","title":"-country","text":"<p>Specifies the country for the OpenSSL Certificate Authority.</p> <pre><code>Type: String\nParameter Sets: (openssl)\nAliases:\n\nRequired: True\nPosition: 14\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Set-VcfCertificateAuthority/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/","title":"Test-EsxiCertMgmtChecks","text":""},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#synopsis","title":"Synopsis","text":"<p>Run the checks required for ESX Certificate Management for a given cluster or an ESX host.</p>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#syntax","title":"Syntax","text":"<pre><code>Test-EsxiCertMgmtChecks [-server] &lt;String&gt; [-user] &lt;String&gt; [-pass] &lt;String&gt; [-domain] &lt;String&gt; [-cluster] &lt;String&gt; [-signedCertificate] &lt;String&gt; [[-esxiFqdn] &lt;String&gt;] [[-issuer] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#description","title":"Description","text":"<p>The <code>Test-EsxiCertMgmtChecks</code> runs the checks required for ESX Certificate Management for a given cluster or an ESX host.</p> <p>The following checks are run:</p> <ul> <li>Check ESX Certificate Mode</li> <li>Check ESX Lockdown Mode</li> <li>Confirm Certificate Authority in vCenter</li> <li>Check vSAN Health Status</li> </ul>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#examples","title":"Examples","text":""},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#example-1","title":"Example 1","text":"<pre><code>Test-EsxiCertMgmtChecks -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -issuer [issuer_name] -signedCertificate [full_certificate_file_path]\n</code></pre> <p>This example runs the checks required for ESX Certificate Management for the cluster belonging to the domain.</p>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#example-2","title":"Example 2","text":"<pre><code>Test-EsxiCertMgmtChecks -server [sddc_manager_fqdn] -user [admin_username] -pass [admin_password] -domain [workload_domain_name] -cluster [cluster_name] -esxiFqdn [esx_host_fqdn] -issuer [issuer_name] -signedCertificate [full_certificate_file_path]\n</code></pre> <p>This example runs the checks required for ESX Certificate Management for an ESX host belonging to the domain.</p>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#parameters","title":"Parameters","text":""},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#-server","title":"-server","text":"<p>The fully qualified domain name of the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#-user","title":"-user","text":"<p>The username to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#-pass","title":"-pass","text":"<p>The password to authenticate to the SDDC Manager instance.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#-domain","title":"-domain","text":"<p>The name of the workload domain to retrieve the vCenter instance's certificate thumbprints from.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#-cluster","title":"-cluster","text":"<p>The name of the cluster in which the ESX host is located.</p> <pre><code>Type: String\nParameter Sets: cluster\nAliases:\n\nRequired: True\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#-signedcertificate","title":"-signedCertificate","text":"<p>The complete path for the root certificate file.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#-issuer","title":"-issuer","text":"<p>The name of the issuer to match with the thumbprint.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 7\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#-esxifqdn","title":"-esxiFqdn","text":"<p>The fully qualified domain name of the ESX host.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 8\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"documentation/functions/Test-EsxiCertMgmtChecks/#common-parameters","title":"Common Parameters","text":"<p>This cmdlet supports the common parameters: <code>-Debug</code>, <code>-ErrorAction</code>, <code>-ErrorVariable</code>, <code>-InformationAction</code>, <code>-InformationVariable</code>, <code>-OutVariable</code>, <code>-OutBuffer</code>, <code>-PipelineVariable</code>, <code>-Verbose</code>, <code>-WarningAction</code>, and <code>-WarningVariable</code>. For more information, see about_CommonParameters.</p>"},{"location":"documentation/user-guide/esxi-certificate-management/","title":"ESX Certificate Management","text":"<p>This section provides information on how to use the PowerShell module for VMware Cloud Foundation Certificate Management to manage ESX host certificates across your VMware Cloud Foundation instance.</p>"},{"location":"documentation/user-guide/esxi-certificate-management/#set-the-esx-certificate-mode-in-vcenter","title":"Set the ESX Certificate Mode in vCenter","text":"<p>The <code>Set-EsxiCertificateMode</code> cmdlet sets the certificate management mode in vCenter for the ESX hosts in a workload domain.</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$mode = \"custom\"\n</code></pre> </li> <li> <p>Set the ESX certificate management mode in vCenter by running the command in the PowerShell console.</p> <pre><code>Set-EsxiCertificateMode -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -mode $mode\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#request-a-certificate-signing-request","title":"Request a Certificate Signing Request","text":"<p>The <code>Request-VcfCsr</code> cmdlet will generate the Certificate Signing Request for ESX host(s) and saves it to file(s) in an output directory.</p>"},{"location":"documentation/user-guide/esxi-certificate-management/#request-certificate-signing-request-for-each-esx-host-in-a-cluster","title":"Request Certificate Signing Request for each ESX Host in a Cluster","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$cluster = \"sfo-m01-cl01\"\n\n$country = \"US\"\n$locality = \"San Francisco\"\n$organization = \"Rainpole\"\n$organizationUnit = \"Platform Engineering\"\n$stateOrProvince = \"CA\"\n\n$outputDirectory = \"F:\\CSR\\\"\n</code></pre> </li> <li> <p>Request Certificate Signing Request files by running the command in the PowerShell console.</p> <pre><code>Request-VcfCsr -esxi -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -cluster $cluster -Country $country -Locality $location -Organization $organization -OrganizationUnit $organizationUnit -StateOrProvince $stateOrProvince -outputDirectory $outputDirectory\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#request-a-certificate-signing-request-for-an-esx-host","title":"Request a Certificate Signing Request for an ESX Host","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$esxiFqdn = 'sfo01-m01-esx01.sfo.rainpole.io'\n\n$country = \"US\"\n$locality = \"San Francisco\"\n$organization = \"Rainpole\"\n$organizationUnit = \"Platform Engineering\"\n$stateOrProvince = \"CA\"\n\n$outputDirectory = \"F:\\CSR\\\"\n</code></pre> </li> <li> <p>Request a Certificate Signing Request file by running the command in the PowerShell console.</p> <pre><code>Request-VcfCsr -esxi -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -esxiFqdn $esxiFqdn -Country $country -Locality $locality -Organization $organization -OrganizationUnit $organizationUnit -StateOrProvince $stateOrProvince -outputDirectory $outputDirectory\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#verify-the-certificate-authority-is-trusted-in-vcenter","title":"Verify the Certificate Authority is Trusted in vCenter","text":"<p>The <code>Confirm-CAInvCenterServer</code> cmdlet gets the thumbprint from the root certificate and matches it with the CA thumbprint from the vCenter instance. You need to pass in the complete path for the certificate file. Returns true if thumbprint matches, else returns false.</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$issuer = \"rainpole\"\n\n$signedCertificate = \"F:\\Certificates\\Root64.cer\"\n</code></pre> </li> <li> <p>Verify the Certificate Authority is trusted in vCenter by running the command in the PowerShell console.</p> <pre><code>Confirm-CAInvCenterServer -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -issuer $issuer -signedCertificate $signedCertificate\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#set-the-lockdown-mode-for-esx-hosts","title":"Set the Lockdown Mode for ESX Hosts","text":"<p>The <code>Set-EsxiLockdownMode</code> cmdlet sets the lockdown mode for all ESX hosts in a given cluster.</p>"},{"location":"documentation/user-guide/esxi-certificate-management/#disable-lockdown-mode-for-each-esx-host-in-a-cluster","title":"Disable Lockdown Mode for Each ESX Host in a Cluster","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$cluster = \"sfo-m01-cl01\"\n</code></pre> </li> <li> <p>Set the lockdown mode to <code>disable</code> by running the command in the PowerShell console.</p> <pre><code>Set-EsxiLockdownMode -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -cluster $cluster -disable\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#enable-lockdown-mode-for-each-esx-host-in-a-cluster","title":"Enable Lockdown Mode for Each ESX Host in a Cluster","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$cluster = \"sfo-m01-cl01\"\n</code></pre> </li> <li> <p>Set the lockdown mode to <code>enable</code> by running the command in the PowerShell console.</p> <pre><code>Set-EsxiLockdownMode -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -cluster $cluster -enable\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#get-the-vsan-health-summary-from-vcenter-for-a-cluster","title":"Get the vSAN Health Summary from vCenter for a Cluster","text":"<p>The <code>Get-vSANHealthSummary</code> cmdlet gets the vSAN health summary from vCenter for a cluster. If any status is YELLOW or RED, a WARNING or ERROR will be raised.</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$cluster = \"sfo-m01-cl01\"\n</code></pre> </li> <li> <p>Get the vSAN health summary from vCenter for a cluster by running the command in the PowerShell console.</p> <pre><code>Get-vSANHealthSummary -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -cluster $cluster\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#run-the-checks-required-for-esx-certificate-management-for-a-cluster","title":"Run the checks required for ESX Certificate Management for a Cluster","text":"<p>The <code>Test-EsxiCertMgmtChecks</code> cmdlet runs the checks required for ESX Certificate Management for a given cluster or an ESX host. The following checks are run:</p> <ul> <li>Check ESX Certificate Mode</li> <li>Check ESX Lockdown Mode</li> <li>Confirm CA In vCenter</li> <li> <p>Check vSAN Health Status</p> </li> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$cluster = \"sfo-m01-cl01\"\n\n$issuer = \"rainpole\"\n\n$signedCertificate = \"F:\\Certificates\\Root64.cer\"\n</code></pre> </li> <li> <p>Run the checks required for ESX Certificate management for a cluster by running the command in the PowerShell console.</p> <pre><code>Test-EsxiCertMgmtChecks -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -cluster $cluster -signedCertificate $signedCertificate -issuer $issuer\n</code></pre> </li> </ul>"},{"location":"documentation/user-guide/esxi-certificate-management/#install-a-certificate","title":"Install a Certificate","text":"<p>The <code>Install-VcfCertificate</code> cmdlet will replace the certificate for an ESX host or for each ESX host in a cluster. You must provide the directory containing the signed certificate files. Certificate names should be in format .cer (e.g., sfo01-m01-esx01.sfo.rainpole.io.cer.) The workflow will put the ESX host in maintenance mode (with full data migration for vSAN only), disconnect the ESX host from the vCenter, replace the certificate, restart the ESX host, and the exit maintenance mode once the ESX host is online."},{"location":"documentation/user-guide/esxi-certificate-management/#install-a-certificate-to-each-esx-host-in-a-cluster","title":"Install a Certificate to Each ESX Host in a Cluster","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$cluster = \"sfo-m01-cl01\"\n\n$certificateDirectory = 'F:\\Certificates'\n\n$certificateFileExt = \".cer\"\n</code></pre> </li> <li> <p>Install a Certificate for each ESX host in cluster by running the command in the PowerShell console.</p> <pre><code>Install-VcfCertificate -esxi -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -cluster $cluster -certificateDirectory $certificateDirectory -certificateFileExt $certificateFileExt\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/esxi-certificate-management/#install-a-certificate-to-an-esx-host","title":"Install a Certificate to an ESX Host","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$esxiFqdn = 'sfo01-m01-esx01.sfo.rainpole.io'\n\n$certificateDirectory = 'F:\\Certificates'\n\n$certificateFileExt = \".cer\"\n</code></pre> </li> <li> <p>Install a certificate to an ESX host by running the command in the PowerShell console.</p> <pre><code>Install-VcfCertificate -esxi -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -esxiFqdn $esxiFqdn -certificateDirectory $certificateDirectory -certificateFileExt $certificateFileExt\n</code></pre> </li> </ol>"},{"location":"documentation/user-guide/vcf-certificate-management/","title":"VMware Cloud Foundation Certificate Management","text":"<p>This section provides information on how to use the PowerShell module for VMware Cloud Foundation Certificate Management to manage certificates for SDDC Manager and workload domain components with the exception of ESX hosts in your VMware Cloud Foundation instance.</p>"},{"location":"documentation/user-guide/vcf-certificate-management/#configuring-the-certificate-authority-for-sddc-manager","title":"Configuring the Certificate Authority for SDDC Manager","text":"<p>The <code>Set-VcfCertificateAuthority</code> configures Microsoft Certificate Authority or OpenSSL Certificate Authority as SDDC Manager's Certificate Authority.</p>"},{"location":"documentation/user-guide/vcf-certificate-management/#configuring-the-microsoft-certificate-authority-for-sddc-manager","title":"Configuring the Microsoft Certificate Authority for SDDC Manager","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$certAuthorityFqdn = \"rpl-ad01.rainpole.io\"\n$certAuthorityUser = \"svc-vcf-ca\"\n$certAuthorityPass = \"VMw@re1!\"\n$certAuthorityTemplate = \"VMware\"\n</code></pre> </li> <li> <p>Configuring the Certificate Authority for SDDC Manager by running the command in the PowerShell console.</p> </li> </ol> <pre><code>Set-VcfCertificateAuthority -certAuthority Microsoft -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -certAuthorityFqdn $certAuthorityFqdn -certAuthorityUser $certAuthorityUser -certAuthorityPass $certAuthorityPass -certAuthorityTemplate $certAuthorityTemplate\n</code></pre> <p>This example will configure Microsoft Certificate Authority in SDDC Manager.</p>"},{"location":"documentation/user-guide/vcf-certificate-management/#configuring-the-openssl-certificate-authority-for-sddc-manager","title":"Configuring the OpenSSL Certificate Authority for SDDC Manager","text":"<ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$commonName = \"sfo-vcf01.sfo.rainpole.io\"\n$country = \"US\"\n$locality = \"San Francisco\"\n$organization = \"Rainpole\"\n$organizationUnit = \"Platform Engineering\"\n$stateOrProvince = \"CA\"\n</code></pre> </li> <li> <p>Configuring the Certificate Authority for SDDC Manager by running the command in the PowerShell console.</p> </li> </ol> <pre><code>Set-VcfCertificateAuthority -certAuthority OpenSSL -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -commonName $commonName -organization $organization -organizationUnit $organizationUnit -locality $locality -state $stateOrProvince -country $country\n</code></pre> <p>This example will configure an OpenSSL Certificate Authority in SDDC Manager.</p>"},{"location":"documentation/user-guide/vcf-certificate-management/#request-a-certificate-signing-request-for-a-workload-domain","title":"Request a Certificate Signing Request for a Workload Domain","text":"<p>The <code>Request-VcfCsr</code> cmdlet will request SDDC Manager to generate and store certificate signing request files.</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n\n$country = \"US\"\n$locality = \"San Francisco\"\n$organization = \"Rainpole\"\n$organizationUnit = \"Platform Engineering\"\n$stateOrProvince = \"CA\"\n\n$outputDirectory = \"F:\\CSR\\\"\n\n$keySize = \"4096\"\n$email = \"admin@rainpole.io\"\n</code></pre> </li> <li> <p>Request Certificate Signing Request files by running the command in the PowerShell console.</p> <pre><code>Request-VcfCsr -sddcManager -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain -Country $country -keySize $keySize -Locality $locality -Organization $organization -OrganizationUnit $organizationUnit -StateOrProvince $stateOrProvince -email $email\n</code></pre> </li> </ol> <p>This example will request SDDC Manager to generate certificate signing request files for all components associated with the given workload domain.</p>"},{"location":"documentation/user-guide/vcf-certificate-management/#request-certificate-authority-signed-certificates-for-a-workload-domain","title":"Request Certificate Authority Signed Certificates for a Workload Domain","text":"<p>The <code>Request-VcfSignedCertificate</code> will request SDDC Manager to connect to the certificate authority to sign the generated certificate signing request files for all components associated with the given workload domain</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n</code></pre> </li> <li> <p>Request Certificate Authority Signed Certificates for a workload domain by running the command in the PowerShell console.</p> </li> </ol> <pre><code>Request-VcfSignedCertificate -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -workloadDomain $workloadDomain -certAuthority Microsoft\n</code></pre> <p>This example will connect to SDDC Manager to request to have the certificate signing request files for a given workload domain to be signed by Microsoft CA</p>"},{"location":"documentation/user-guide/vcf-certificate-management/#installing-and-replacing-certificate-authority-signed-certificates-for-a-workload-domain","title":"Installing and Replacing Certificate Authority Signed Certificates for a Workload Domain","text":"<p>The <code>Install-VcfCertificate</code> cmdlet installs the signed certificates for all components (except ESX hosts) associated with the given workload domain.</p> <ol> <li> <p>Start PowerShell (Run as Administrator).</p> </li> <li> <p>Replace the values in the sample code with values for the instance of VMware Cloud Foundation and run the commands in the PowerShell console.</p> <p>Example:</p> <pre><code>$sddcManagerFqdn = \"sfo-vcf01.sfo.rainpole.io\"\n$sddcManagerUser = \"admin@local\"\n$sddcManagerPass = \"VMw@re1!VMw@re1!\"\n\n$workloadDomain = \"sfo-m01\"\n</code></pre> </li> <li> <p>Install a Certificate Authority Signed Certificates for SDDC Manager and the workload domain components by running the command in the PowerShell console.</p> <pre><code>Install-VcfCertificate -sddcManager -server $sddcManagerFqdn -user $sddcManagerUser -pass $sddcManagerPass -domain $workloadDomain\n</code></pre> </li> </ol>"}]}